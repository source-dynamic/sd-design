/*! For license information please see 515.b399ffda.iframe.bundle.js.LICENSE.txt */
(self.webpackChunksd_design=self.webpackChunksd_design||[]).push([[515],{"./node_modules/@ant-design/colors/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function util_bound01(n,max){(function isOnePointZero(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var isPercent=function isPercentage(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===max?n:Math.min(max,Math.max(0,parseFloat(n))),isPercent&&(n=parseInt(String(n*max),10)/100),Math.abs(n-max)<1e-6?1:n=360===max?(n<0?n%max+max:n%max)/parseFloat(String(max)):n%max/parseFloat(String(max))}function convertToPercentage(n){return n<=1?"".concat(100*Number(n),"%"):n}function util_pad2(c){return 1===c.length?"0"+c:String(c)}function hue2rgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*t*(q-p):t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}function convertHexToDecimal(h){return parseIntFromHex(h)/255}function parseIntFromHex(val){return parseInt(val,16)}__webpack_require__.d(__webpack_exports__,{R_:()=>generate,Ti:()=>presetPalettes});var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(color){var rgb={r:0,g:0,b:0},a=1,s=null,v=null,l=null,ok=!1,format=!1;return"string"==typeof color&&(color=function stringInputToObject(color){if(color=color.trim().toLowerCase(),0===color.length)return!1;var named=!1;if(names[color])color=names[color],named=!0;else if("transparent"===color)return{r:0,g:0,b:0,a:0,format:"name"};var match=matchers.rgb.exec(color);if(match)return{r:match[1],g:match[2],b:match[3]};if(match=matchers.rgba.exec(color),match)return{r:match[1],g:match[2],b:match[3],a:match[4]};if(match=matchers.hsl.exec(color),match)return{h:match[1],s:match[2],l:match[3]};if(match=matchers.hsla.exec(color),match)return{h:match[1],s:match[2],l:match[3],a:match[4]};if(match=matchers.hsv.exec(color),match)return{h:match[1],s:match[2],v:match[3]};if(match=matchers.hsva.exec(color),match)return{h:match[1],s:match[2],v:match[3],a:match[4]};if(match=matchers.hex8.exec(color),match)return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),a:convertHexToDecimal(match[4]),format:named?"name":"hex8"};if(match=matchers.hex6.exec(color),match)return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"};if(match=matchers.hex4.exec(color),match)return{r:parseIntFromHex(match[1]+match[1]),g:parseIntFromHex(match[2]+match[2]),b:parseIntFromHex(match[3]+match[3]),a:convertHexToDecimal(match[4]+match[4]),format:named?"name":"hex8"};if(match=matchers.hex3.exec(color),match)return{r:parseIntFromHex(match[1]+match[1]),g:parseIntFromHex(match[2]+match[2]),b:parseIntFromHex(match[3]+match[3]),format:named?"name":"hex"};return!1}(color)),"object"==typeof color&&(isValidCSSUnit(color.r)&&isValidCSSUnit(color.g)&&isValidCSSUnit(color.b)?(rgb=function rgbToRgb(r,g,b){return{r:255*util_bound01(r,255),g:255*util_bound01(g,255),b:255*util_bound01(b,255)}}(color.r,color.g,color.b),ok=!0,format="%"===String(color.r).substr(-1)?"prgb":"rgb"):isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.v)?(s=convertToPercentage(color.s),v=convertToPercentage(color.v),rgb=function hsvToRgb(h,s,v){h=6*util_bound01(h,360),s=util_bound01(s,100),v=util_bound01(v,100);var i=Math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6;return{r:255*[v,q,p,p,t,v][mod],g:255*[t,v,v,q,p,p][mod],b:255*[p,p,t,v,v,q][mod]}}(color.h,s,v),ok=!0,format="hsv"):isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.l)&&(s=convertToPercentage(color.s),l=convertToPercentage(color.l),rgb=function hslToRgb(h,s,l){var r,g,b;if(h=util_bound01(h,360),s=util_bound01(s,100),l=util_bound01(l,100),0===s)g=l,b=l,r=l;else{var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return{r:255*r,g:255*g,b:255*b}}(color.h,s,l),ok=!0,format="hsl"),Object.prototype.hasOwnProperty.call(color,"a")&&(a=color.a)),a=function boundAlpha(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}(a),{ok,format:color.format||format,r:Math.min(255,Math.max(rgb.r,0)),g:Math.min(255,Math.max(rgb.g,0)),b:Math.min(255,Math.max(rgb.b,0)),a}}var CSS_UNIT="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function isValidCSSUnit(color){return Boolean(matchers.CSS_UNIT.exec(String(color)))}var hueStep=2,saturationStep=.16,saturationStep2=.05,brightnessStep1=.05,brightnessStep2=.15,lightColorCount=5,darkColorCount=4,darkColorMap=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function toHsv(_ref){var hsv=function rgbToHsv(r,g,b){r=util_bound01(r,255),g=util_bound01(g,255),b=util_bound01(b,255);var max=Math.max(r,g,b),min=Math.min(r,g,b),h=0,v=max,d=max-min,s=0===max?0:d/max;if(max===min)h=0;else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h,s,v}}(_ref.r,_ref.g,_ref.b);return{h:360*hsv.h,s:hsv.s,v:hsv.v}}function toHex(_ref2){var r=_ref2.r,g=_ref2.g,b=_ref2.b;return"#".concat(function rgbToHex(r,g,b,allow3Char){var hex=[util_pad2(Math.round(r).toString(16)),util_pad2(Math.round(g).toString(16)),util_pad2(Math.round(b).toString(16))];return allow3Char&&hex[0].startsWith(hex[0].charAt(1))&&hex[1].startsWith(hex[1].charAt(1))&&hex[2].startsWith(hex[2].charAt(1))?hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0):hex.join("")}(r,g,b,!1))}function getHue(hsv,i,light){var hue;return(hue=Math.round(hsv.h)>=60&&Math.round(hsv.h)<=240?light?Math.round(hsv.h)-hueStep*i:Math.round(hsv.h)+hueStep*i:light?Math.round(hsv.h)+hueStep*i:Math.round(hsv.h)-hueStep*i)<0?hue+=360:hue>=360&&(hue-=360),hue}function getSaturation(hsv,i,light){return 0===hsv.h&&0===hsv.s?hsv.s:((saturation=light?hsv.s-saturationStep*i:i===darkColorCount?hsv.s+saturationStep:hsv.s+saturationStep2*i)>1&&(saturation=1),light&&i===lightColorCount&&saturation>.1&&(saturation=.1),saturation<.06&&(saturation=.06),Number(saturation.toFixed(2)));var saturation}function getValue(hsv,i,light){var value;return(value=light?hsv.v+brightnessStep1*i:hsv.v-brightnessStep2*i)>1&&(value=1),Number(value.toFixed(2))}function generate(color){for(var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},patterns=[],pColor=inputToRGB(color),i=lightColorCount;i>0;i-=1){var hsv=toHsv(pColor),colorString=toHex(inputToRGB({h:getHue(hsv,i,!0),s:getSaturation(hsv,i,!0),v:getValue(hsv,i,!0)}));patterns.push(colorString)}patterns.push(toHex(pColor));for(var _i=1;_i<=darkColorCount;_i+=1){var _hsv=toHsv(pColor),_colorString=toHex(inputToRGB({h:getHue(_hsv,_i),s:getSaturation(_hsv,_i),v:getValue(_hsv,_i)}));patterns.push(_colorString)}return"dark"===opts.theme?darkColorMap.map((function(_ref3){var index=_ref3.index,opacity=_ref3.opacity;return toHex(function mix(rgb1,rgb2,amount){var p=amount/100;return{r:(rgb2.r-rgb1.r)*p+rgb1.r,g:(rgb2.g-rgb1.g)*p+rgb1.g,b:(rgb2.b-rgb1.b)*p+rgb1.b}}(inputToRGB(opts.backgroundColor||"#141414"),inputToRGB(patterns[index]),100*opacity))})):patterns}var presetPrimaryColors={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},presetPalettes={},presetDarkPalettes={};Object.keys(presetPrimaryColors).forEach((function(key){presetPalettes[key]=generate(presetPrimaryColors[key]),presetPalettes[key].primary=presetPalettes[key][5],presetDarkPalettes[key]=generate(presetPrimaryColors[key],{theme:"dark",backgroundColor:"#141414"}),presetDarkPalettes[key].primary=presetDarkPalettes[key][5]}));presetPalettes.red,presetPalettes.volcano,presetPalettes.gold,presetPalettes.orange,presetPalettes.yellow,presetPalettes.lime,presetPalettes.green,presetPalettes.cyan,presetPalettes.blue,presetPalettes.geekblue,presetPalettes.purple,presetPalettes.magenta,presetPalettes.grey,presetPalettes.grey},"./node_modules/@odoo/owl/dist/owl.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function filterOutModifiersFromData(dataList){dataList=dataList.slice();const modifiers=[];let elm;for(;(elm=dataList[0])&&"string"==typeof elm;)modifiers.push(dataList.shift());return{modifiers,data:dataList}}__webpack_require__.d(__webpack_exports__,{Co:()=>useComponent,LI:()=>mount,Ls:()=>xml,bv:()=>onMounted,d4:()=>useEffect,eJ:()=>useState,kI:()=>onWillUpdateProps,oN:()=>useChildSubEnv,sO:()=>useRef,wA:()=>Component});const config={shouldNormalizeDom:!0,mainEventHandler:(data,ev,currentTarget)=>("function"==typeof data?data(ev):Array.isArray(data)&&(data=filterOutModifiersFromData(data).data)[0](data[1],ev),!1)};class VToggler{constructor(key,child){this.key=key,this.child=child}mount(parent,afterNode){this.parentEl=parent,this.child.mount(parent,afterNode)}moveBeforeDOMNode(node,parent){this.child.moveBeforeDOMNode(node,parent)}moveBeforeVNode(other,afterNode){this.moveBeforeDOMNode(other&&other.firstNode()||afterNode)}patch(other,withBeforeRemove){if(this===other)return;let child1=this.child,child2=other.child;this.key===other.key?child1.patch(child2,withBeforeRemove):(child2.mount(this.parentEl,child1.firstNode()),withBeforeRemove&&child1.beforeRemove(),child1.remove(),this.child=child2,this.key=other.key)}beforeRemove(){this.child.beforeRemove()}remove(){this.child.remove()}firstNode(){return this.child.firstNode()}toString(){return this.child.toString()}}function toggler(key,child){return new VToggler(key,child)}class OwlError extends Error{}const{setAttribute:elemSetAttribute,removeAttribute}=Element.prototype,tokenList=DOMTokenList.prototype,tokenListAdd=tokenList.add,tokenListRemove=tokenList.remove,isArray=Array.isArray,{split,trim}=String.prototype,wordRegexp=/\s+/;function setAttribute(key,value){switch(value){case!1:case void 0:removeAttribute.call(this,key);break;case!0:elemSetAttribute.call(this,key,"");break;default:elemSetAttribute.call(this,key,value)}}function createAttrUpdater(attr){return function(value){setAttribute.call(this,attr,value)}}function attrsSetter(attrs){if(isArray(attrs))"class"===attrs[0]?setClass.call(this,attrs[1]):setAttribute.call(this,attrs[0],attrs[1]);else for(let k in attrs)"class"===k?setClass.call(this,attrs[k]):setAttribute.call(this,k,attrs[k])}function attrsUpdater(attrs,oldAttrs){if(isArray(attrs)){const name=attrs[0],val=attrs[1];if(name===oldAttrs[0]){if(val===oldAttrs[1])return;"class"===name?updateClass.call(this,val,oldAttrs[1]):setAttribute.call(this,name,val)}else removeAttribute.call(this,oldAttrs[0]),setAttribute.call(this,name,val)}else{for(let k in oldAttrs)k in attrs||("class"===k?updateClass.call(this,"",oldAttrs[k]):removeAttribute.call(this,k));for(let k in attrs){const val=attrs[k];val!==oldAttrs[k]&&("class"===k?updateClass.call(this,val,oldAttrs[k]):setAttribute.call(this,k,val))}}}function toClassObj(expr){const result={};switch(typeof expr){case"string":const str=trim.call(expr);if(!str)return{};let words=split.call(str,wordRegexp);for(let i=0,l=words.length;i<l;i++)result[words[i]]=!0;return result;case"object":for(let key in expr){const value=expr[key];if(value){if(key=trim.call(key),!key)continue;const words=split.call(key,wordRegexp);for(let word of words)result[word]=value}}return result;case"undefined":return{};case"number":return{[expr]:!0};default:return{[expr]:!0}}}function setClass(val){val=""===val?{}:toClassObj(val);const cl=this.classList;for(let c in val)tokenListAdd.call(cl,c)}function updateClass(val,oldVal){oldVal=""===oldVal?{}:toClassObj(oldVal),val=""===val?{}:toClassObj(val);const cl=this.classList;for(let c in oldVal)c in val||tokenListRemove.call(cl,c);for(let c in val)c in oldVal||tokenListAdd.call(cl,c)}function inOwnerDocument(el){if(!el)return!1;if(el.ownerDocument.contains(el))return!0;const rootNode=el.getRootNode();return rootNode instanceof ShadowRoot&&el.ownerDocument.contains(rootNode.host)}class Markup extends String{}function createEventHandler(rawEvent){const eventName=rawEvent.split(".")[0],capture=rawEvent.includes(".capture");return rawEvent.includes(".synthetic")?function createSyntheticHandler(evName,capture=!1){let eventKey=`__event__synthetic_${evName}`;capture&&(eventKey=`${eventKey}_capture`);!function setupSyntheticEvent(evName,eventKey,capture=!1){if(CONFIGURED_SYNTHETIC_EVENTS[eventKey])return;document.addEventListener(evName,(event=>function nativeToSyntheticEvent(eventKey,event){let dom=event.target;for(;null!==dom;){const _data=dom[eventKey];if(_data)for(const data of Object.values(_data)){if(config.mainEventHandler(data,event,dom))return}dom=dom.parentNode}}(eventKey,event)),{capture}),CONFIGURED_SYNTHETIC_EVENTS[eventKey]=!0}(evName,eventKey,capture);const currentId=nextSyntheticEventId++;function setup(data){const _data=this[eventKey]||{};_data[currentId]=data,this[eventKey]=_data}function remove(){delete this[eventKey]}return{setup,update:setup,remove}}(eventName,capture):function createElementHandler(evName,capture=!1){let eventKey=`__event__${evName}_${nextNativeEventId++}`;capture&&(eventKey=`${eventKey}_capture`);function listener(ev){const currentTarget=ev.currentTarget;if(!currentTarget||!inOwnerDocument(currentTarget))return;const data=currentTarget[eventKey];data&&config.mainEventHandler(data,ev,currentTarget)}function setup(data){this[eventKey]=data,this.addEventListener(evName,listener,{capture})}function remove(){delete this[eventKey],this.removeEventListener(evName,listener,{capture})}function update(data){this[eventKey]=data}return{setup,update,remove}}(eventName,capture)}let nextNativeEventId=1;let nextSyntheticEventId=1;const CONFIGURED_SYNTHETIC_EVENTS={};const nodeProto$4=Node.prototype,nodeInsertBefore$3=nodeProto$4.insertBefore,nodeSetTextContent$1=(o=nodeProto$4,p="textContent",Object.getOwnPropertyDescriptor(o,p)).set;var o,p;const nodeRemoveChild$3=nodeProto$4.removeChild;class VMulti{constructor(children){this.children=children}mount(parent,afterNode){const children=this.children,l=children.length,anchors=new Array(l);for(let i=0;i<l;i++){let child=children[i];if(child)child.mount(parent,afterNode);else{const childAnchor=document.createTextNode("");anchors[i]=childAnchor,nodeInsertBefore$3.call(parent,childAnchor,afterNode)}}this.anchors=anchors,this.parentEl=parent}moveBeforeDOMNode(node,parent=this.parentEl){this.parentEl=parent;const children=this.children,anchors=this.anchors;for(let i=0,l=children.length;i<l;i++){let child=children[i];if(child)child.moveBeforeDOMNode(node,parent);else{const anchor=anchors[i];nodeInsertBefore$3.call(parent,anchor,node)}}}moveBeforeVNode(other,afterNode){if(other){const next=other.children[0];afterNode=(next?next.firstNode():other.anchors[0])||null}const children=this.children,parent=this.parentEl,anchors=this.anchors;for(let i=0,l=children.length;i<l;i++){let child=children[i];if(child)child.moveBeforeVNode(null,afterNode);else{const anchor=anchors[i];nodeInsertBefore$3.call(parent,anchor,afterNode)}}}patch(other,withBeforeRemove){if(this===other)return;const children1=this.children,children2=other.children,anchors=this.anchors,parentEl=this.parentEl;for(let i=0,l=children1.length;i<l;i++){const vn1=children1[i],vn2=children2[i];if(vn1)if(vn2)vn1.patch(vn2,withBeforeRemove);else{const afterNode=vn1.firstNode(),anchor=document.createTextNode("");anchors[i]=anchor,nodeInsertBefore$3.call(parentEl,anchor,afterNode),withBeforeRemove&&vn1.beforeRemove(),vn1.remove(),children1[i]=void 0}else if(vn2){children1[i]=vn2;const anchor=anchors[i];vn2.mount(parentEl,anchor),nodeRemoveChild$3.call(parentEl,anchor)}}}beforeRemove(){const children=this.children;for(let i=0,l=children.length;i<l;i++){const child=children[i];child&&child.beforeRemove()}}remove(){const parentEl=this.parentEl;if(this.isOnlyChild)nodeSetTextContent$1.call(parentEl,"");else{const children=this.children,anchors=this.anchors;for(let i=0,l=children.length;i<l;i++){const child=children[i];child?child.remove():nodeRemoveChild$3.call(parentEl,anchors[i])}}}firstNode(){const child=this.children[0];return child?child.firstNode():this.anchors[0]}toString(){return this.children.map((c=>c?c.toString():"")).join("")}}function multi(children){return new VMulti(children)}const nodeProto$3=Node.prototype,characterDataProto$1=CharacterData.prototype,nodeInsertBefore$2=nodeProto$3.insertBefore,characterDataSetData$1=((o,p)=>Object.getOwnPropertyDescriptor(o,p))(characterDataProto$1,"data").set,nodeRemoveChild$2=nodeProto$3.removeChild;class VSimpleNode{constructor(text){this.text=text}mountNode(node,parent,afterNode){this.parentEl=parent,nodeInsertBefore$2.call(parent,node,afterNode),this.el=node}moveBeforeDOMNode(node,parent=this.parentEl){this.parentEl=parent,nodeInsertBefore$2.call(parent,this.el,node)}moveBeforeVNode(other,afterNode){nodeInsertBefore$2.call(this.parentEl,this.el,other?other.el:afterNode)}beforeRemove(){}remove(){nodeRemoveChild$2.call(this.parentEl,this.el)}firstNode(){return this.el}toString(){return this.text}}class VText$1 extends VSimpleNode{mount(parent,afterNode){this.mountNode(document.createTextNode(toText(this.text)),parent,afterNode)}patch(other){const text2=other.text;this.text!==text2&&(characterDataSetData$1.call(this.el,toText(text2)),this.text=text2)}}class VComment extends VSimpleNode{mount(parent,afterNode){this.mountNode(document.createComment(toText(this.text)),parent,afterNode)}patch(){}}function text(str){return new VText$1(str)}function comment(str){return new VComment(str)}function toText(value){switch(typeof value){case"string":return value;case"number":return String(value);case"boolean":return value?"true":"false";default:return value||""}}const getDescriptor$1=(o,p)=>Object.getOwnPropertyDescriptor(o,p),nodeProto$2=Node.prototype,elementProto=Element.prototype,characterDataSetData=getDescriptor$1(CharacterData.prototype,"data").set,nodeGetFirstChild=getDescriptor$1(nodeProto$2,"firstChild").get,nodeGetNextSibling=getDescriptor$1(nodeProto$2,"nextSibling").get,NO_OP=()=>{};function makePropSetter(name){return function setProp(value){this[name]=0===value?0:value?value.valueOf():""}}const cache$1={};function createBlock(str){if(str in cache$1)return cache$1[str];const node=(new DOMParser).parseFromString(`<t>${str}</t>`,"text/xml").firstChild.firstChild;config.shouldNormalizeDom&&normalizeNode(node);const tree=buildTree(node),context=buildContext(tree),Block=function buildBlock(template,ctx){let B=function createBlockClass(template,ctx){const{refN,collectors,children}=ctx,colN=collectors.length;ctx.locations.sort(((a,b)=>a.idx-b.idx));const locations=ctx.locations.map((loc=>({refIdx:loc.refIdx,setData:loc.setData,updateData:loc.updateData}))),locN=locations.length,childN=children.length,childrenLocs=children,isDynamic=refN>0,nodeCloneNode=nodeProto$2.cloneNode,nodeInsertBefore=nodeProto$2.insertBefore,elementRemove=elementProto.remove;class Block{constructor(data){this.data=data}beforeRemove(){}remove(){elementRemove.call(this.el)}firstNode(){return this.el}moveBeforeDOMNode(node,parent=this.parentEl){this.parentEl=parent,nodeInsertBefore.call(parent,this.el,node)}moveBeforeVNode(other,afterNode){nodeInsertBefore.call(this.parentEl,this.el,other?other.el:afterNode)}toString(){const div=document.createElement("div");return this.mount(div,null),div.innerHTML}mount(parent,afterNode){const el=nodeCloneNode.call(template,!0);nodeInsertBefore.call(parent,el,afterNode),this.el=el,this.parentEl=parent}patch(other,withBeforeRemove){}}isDynamic&&(Block.prototype.mount=function mount(parent,afterNode){const el=nodeCloneNode.call(template,!0),refs=new Array(refN);this.refs=refs,refs[0]=el;for(let i=0;i<colN;i++){const w=collectors[i];refs[w.idx]=w.getVal.call(refs[w.prevIdx])}if(locN){const data=this.data;for(let i=0;i<locN;i++){const loc=locations[i];loc.setData.call(refs[loc.refIdx],data[i])}}if(nodeInsertBefore.call(parent,el,afterNode),childN){const children=this.children;for(let i=0;i<childN;i++){const child=children[i];if(child){const loc=childrenLocs[i],afterNode=loc.afterRefIdx?refs[loc.afterRefIdx]:null;child.isOnlyChild=loc.isOnlyChild,child.mount(refs[loc.parentRefIdx],afterNode)}}}this.el=el,this.parentEl=parent},Block.prototype.patch=function patch(other,withBeforeRemove){if(this===other)return;const refs=this.refs;if(locN){const data1=this.data,data2=other.data;for(let i=0;i<locN;i++){const val1=data1[i],val2=data2[i];if(val1!==val2){const loc=locations[i];loc.updateData.call(refs[loc.refIdx],val2,val1)}}this.data=data2}if(childN){let children1=this.children;const children2=other.children;for(let i=0;i<childN;i++){const child1=children1[i],child2=children2[i];if(child1)child2?child1.patch(child2,withBeforeRemove):(withBeforeRemove&&child1.beforeRemove(),child1.remove(),children1[i]=void 0);else if(child2){const loc=childrenLocs[i],afterNode=loc.afterRefIdx?refs[loc.afterRefIdx]:null;child2.mount(refs[loc.parentRefIdx],afterNode),children1[i]=child2}}}});return Block}(template,ctx);if(ctx.cbRefs.length){const cbRefs=ctx.cbRefs,refList=ctx.refList;let cbRefsNumber=cbRefs.length;B=class extends B{mount(parent,afterNode){refList.push(new Array(cbRefsNumber)),super.mount(parent,afterNode);for(let cbRef of refList.pop())cbRef()}remove(){super.remove();for(let cbRef of cbRefs){(0,this.data[cbRef])(null)}}}}if(ctx.children.length)return B=class extends B{constructor(data,children){super(data),this.children=children}},B.prototype.beforeRemove=VMulti.prototype.beforeRemove,(data,children=[])=>new B(data,children);return data=>new B(data)}(tree.el,context);return cache$1[str]=Block,Block}function normalizeNode(node){if(node.nodeType!==Node.TEXT_NODE||/\S/.test(node.textContent)){if(node.nodeType!==Node.ELEMENT_NODE||"pre"!==node.tagName)for(let i=node.childNodes.length-1;i>=0;--i)normalizeNode(node.childNodes.item(i))}else node.remove()}function buildTree(node,parent=null,domParentTree=null){switch(node.nodeType){case Node.ELEMENT_NODE:{let currentNS=domParentTree&&domParentTree.currentNS;const tagName=node.tagName;let el;const info=[];if(tagName.startsWith("block-text-")){const index=parseInt(tagName.slice(11),10);info.push({type:"text",idx:index}),el=document.createTextNode("")}if(tagName.startsWith("block-child-")){domParentTree.isRef||addRef(domParentTree);const index=parseInt(tagName.slice(12),10);info.push({type:"child",idx:index}),el=document.createTextNode("")}if(currentNS||(currentNS=node.namespaceURI),el||(el=currentNS?document.createElementNS(currentNS,tagName):document.createElement(tagName)),el instanceof Element){if(!domParentTree){document.createElement("template").content.appendChild(el)}const attrs=node.attributes;for(let i=0;i<attrs.length;i++){const attrName=attrs[i].name,attrValue=attrs[i].value;if(attrName.startsWith("block-handler-")){const idx=parseInt(attrName.slice(14),10);info.push({type:"handler",idx,event:attrValue})}else if(attrName.startsWith("block-attribute-")){const idx=parseInt(attrName.slice(16),10);info.push({type:"attribute",idx,name:attrValue,tag:tagName})}else if(attrName.startsWith("block-property-")){const idx=parseInt(attrName.slice(15),10);info.push({type:"property",idx,name:attrValue,tag:tagName})}else"block-attributes"===attrName?info.push({type:"attributes",idx:parseInt(attrValue,10)}):"block-ref"===attrName?info.push({type:"ref",idx:parseInt(attrValue,10)}):el.setAttribute(attrs[i].name,attrValue)}}const tree={parent,firstChild:null,nextSibling:null,el,info,refN:0,currentNS};if(node.firstChild){const childNode=node.childNodes[0];if(1===node.childNodes.length&&childNode.nodeType===Node.ELEMENT_NODE&&childNode.tagName.startsWith("block-child-")){const tagName=childNode.tagName,index=parseInt(tagName.slice(12),10);info.push({idx:index,type:"child",isOnlyChild:!0})}else{tree.firstChild=buildTree(node.firstChild,tree,tree),el.appendChild(tree.firstChild.el);let curNode=node.firstChild,curTree=tree.firstChild;for(;curNode=curNode.nextSibling;)curTree.nextSibling=buildTree(curNode,curTree,tree),el.appendChild(curTree.nextSibling.el),curTree=curTree.nextSibling}}return tree.info.length&&addRef(tree),tree}case Node.TEXT_NODE:case Node.COMMENT_NODE:return{parent,firstChild:null,nextSibling:null,el:node.nodeType===Node.TEXT_NODE?document.createTextNode(node.textContent):document.createComment(node.textContent),info:[],refN:0,currentNS:null}}throw new OwlError("boom")}function addRef(tree){tree.isRef=!0;do{tree.refN++}while(tree=tree.parent)}function parentTree(tree){let parent=tree.parent;for(;parent&&parent.nextSibling===tree;)tree=parent,parent=parent.parent;return parent}function buildContext(tree,ctx,fromIdx){if(!ctx){ctx={collectors:[],locations:[],children:new Array(tree.info.filter((v=>"child"===v.type)).length),cbRefs:[],refN:tree.refN,refList:[]},fromIdx=0}if(tree.refN){const initialIdx=fromIdx,isRef=tree.isRef,firstChild=tree.firstChild?tree.firstChild.refN:0,nextSibling=tree.nextSibling?tree.nextSibling.refN:0;if(isRef){for(let info of tree.info)info.refIdx=initialIdx;tree.refIdx=initialIdx,function updateCtx(ctx,tree){for(let info of tree.info)switch(info.type){case"text":ctx.locations.push({idx:info.idx,refIdx:info.refIdx,setData:setText,updateData:setText});break;case"child":info.isOnlyChild?ctx.children[info.idx]={parentRefIdx:info.refIdx,isOnlyChild:!0}:ctx.children[info.idx]={parentRefIdx:parentTree(tree).refIdx,afterRefIdx:info.refIdx};break;case"property":{const refIdx=info.refIdx,setProp=makePropSetter(info.name);ctx.locations.push({idx:info.idx,refIdx,setData:setProp,updateData:setProp});break}case"attribute":{const refIdx=info.refIdx;let updater,setter;"class"===info.name?(setter=setClass,updater=updateClass):(setter=createAttrUpdater(info.name),updater=setter),ctx.locations.push({idx:info.idx,refIdx,setData:setter,updateData:updater});break}case"attributes":ctx.locations.push({idx:info.idx,refIdx:info.refIdx,setData:attrsSetter,updateData:attrsUpdater});break;case"handler":{const{setup,update}=createEventHandler(info.event);ctx.locations.push({idx:info.idx,refIdx:info.refIdx,setData:setup,updateData:update});break}case"ref":const index=ctx.cbRefs.push(info.idx)-1;ctx.locations.push({idx:info.idx,refIdx:info.refIdx,setData:makeRefSetter(index,ctx.refList),updateData:NO_OP})}}(ctx,tree),fromIdx++}if(nextSibling){const idx=fromIdx+firstChild;ctx.collectors.push({idx,prevIdx:initialIdx,getVal:nodeGetNextSibling}),buildContext(tree.nextSibling,ctx,idx)}firstChild&&(ctx.collectors.push({idx:fromIdx,prevIdx:initialIdx,getVal:nodeGetFirstChild}),buildContext(tree.firstChild,ctx,fromIdx))}return ctx}function setText(value){characterDataSetData.call(this,toText(value))}function makeRefSetter(index,refs){return function setRef(fn){refs[refs.length-1][index]=()=>fn(this)}}const nodeProto$1=Node.prototype,nodeInsertBefore$1=nodeProto$1.insertBefore,nodeAppendChild=nodeProto$1.appendChild,nodeRemoveChild$1=nodeProto$1.removeChild,nodeSetTextContent=((o,p)=>Object.getOwnPropertyDescriptor(o,p))(nodeProto$1,"textContent").set;class VList{constructor(children){this.children=children}mount(parent,afterNode){const children=this.children,_anchor=document.createTextNode("");this.anchor=_anchor,nodeInsertBefore$1.call(parent,_anchor,afterNode);const l=children.length;if(l){const mount=children[0].mount;for(let i=0;i<l;i++)mount.call(children[i],parent,_anchor)}this.parentEl=parent}moveBeforeDOMNode(node,parent=this.parentEl){this.parentEl=parent;const children=this.children;for(let i=0,l=children.length;i<l;i++)children[i].moveBeforeDOMNode(node,parent);parent.insertBefore(this.anchor,node)}moveBeforeVNode(other,afterNode){if(other){const next=other.children[0];afterNode=(next?next.firstNode():other.anchor)||null}const children=this.children;for(let i=0,l=children.length;i<l;i++)children[i].moveBeforeVNode(null,afterNode);this.parentEl.insertBefore(this.anchor,afterNode)}patch(other,withBeforeRemove){if(this===other)return;const ch1=this.children,ch2=other.children;if(0===ch2.length&&0===ch1.length)return;this.children=ch2;const proto=ch2[0]||ch1[0],{mount:cMount,patch:cPatch,remove:cRemove,beforeRemove,moveBeforeVNode:cMoveBefore,firstNode:cFirstNode}=proto,_anchor=this.anchor,isOnlyChild=this.isOnlyChild,parent=this.parentEl;if(0===ch2.length&&isOnlyChild){if(withBeforeRemove)for(let i=0,l=ch1.length;i<l;i++)beforeRemove.call(ch1[i]);return nodeSetTextContent.call(parent,""),void nodeAppendChild.call(parent,_anchor)}let mapping,startIdx1=0,startIdx2=0,startVn1=ch1[0],startVn2=ch2[0],endIdx1=ch1.length-1,endIdx2=ch2.length-1,endVn1=ch1[endIdx1],endVn2=ch2[endIdx2];for(;startIdx1<=endIdx1&&startIdx2<=endIdx2;){if(null===startVn1){startVn1=ch1[++startIdx1];continue}if(null===endVn1){endVn1=ch1[--endIdx1];continue}let startKey1=startVn1.key,startKey2=startVn2.key;if(startKey1===startKey2){cPatch.call(startVn1,startVn2,withBeforeRemove),ch2[startIdx2]=startVn1,startVn1=ch1[++startIdx1],startVn2=ch2[++startIdx2];continue}let endKey1=endVn1.key,endKey2=endVn2.key;if(endKey1===endKey2){cPatch.call(endVn1,endVn2,withBeforeRemove),ch2[endIdx2]=endVn1,endVn1=ch1[--endIdx1],endVn2=ch2[--endIdx2];continue}if(startKey1===endKey2){cPatch.call(startVn1,endVn2,withBeforeRemove),ch2[endIdx2]=startVn1;const nextChild=ch2[endIdx2+1];cMoveBefore.call(startVn1,nextChild,_anchor),startVn1=ch1[++startIdx1],endVn2=ch2[--endIdx2];continue}if(endKey1===startKey2){cPatch.call(endVn1,startVn2,withBeforeRemove),ch2[startIdx2]=endVn1;const nextChild=ch1[startIdx1];cMoveBefore.call(endVn1,nextChild,_anchor),endVn1=ch1[--endIdx1],startVn2=ch2[++startIdx2];continue}mapping=mapping||createMapping(ch1,startIdx1,endIdx1);let idxInOld=mapping[startKey2];if(void 0===idxInOld)cMount.call(startVn2,parent,cFirstNode.call(startVn1)||null);else{const elmToMove=ch1[idxInOld];cMoveBefore.call(elmToMove,startVn1,null),cPatch.call(elmToMove,startVn2,withBeforeRemove),ch2[startIdx2]=elmToMove,ch1[idxInOld]=null}startVn2=ch2[++startIdx2]}if(startIdx1<=endIdx1||startIdx2<=endIdx2)if(startIdx1>endIdx1){const nextChild=ch2[endIdx2+1],anchor=nextChild?cFirstNode.call(nextChild)||null:_anchor;for(let i=startIdx2;i<=endIdx2;i++)cMount.call(ch2[i],parent,anchor)}else for(let i=startIdx1;i<=endIdx1;i++){let ch=ch1[i];ch&&(withBeforeRemove&&beforeRemove.call(ch),cRemove.call(ch))}}beforeRemove(){const children=this.children,l=children.length;if(l){const beforeRemove=children[0].beforeRemove;for(let i=0;i<l;i++)beforeRemove.call(children[i])}}remove(){const{parentEl,anchor}=this;if(this.isOnlyChild)nodeSetTextContent.call(parentEl,"");else{const children=this.children,l=children.length;if(l){const remove=children[0].remove;for(let i=0;i<l;i++)remove.call(children[i])}nodeRemoveChild$1.call(parentEl,anchor)}}firstNode(){const child=this.children[0];return child?child.firstNode():void 0}toString(){return this.children.map((c=>c.toString())).join("")}}function list(children){return new VList(children)}function createMapping(ch1,startIdx1,endIdx2){let mapping={};for(let i=startIdx1;i<=endIdx2;i++)mapping[ch1[i].key]=i;return mapping}const nodeProto=Node.prototype,nodeInsertBefore=nodeProto.insertBefore,nodeRemoveChild=nodeProto.removeChild;class VHtml{constructor(html){this.content=[],this.html=html}mount(parent,afterNode){this.parentEl=parent;const template=document.createElement("template");template.innerHTML=this.html,this.content=[...template.content.childNodes];for(let elem of this.content)nodeInsertBefore.call(parent,elem,afterNode);if(!this.content.length){const textNode=document.createTextNode("");this.content.push(textNode),nodeInsertBefore.call(parent,textNode,afterNode)}}moveBeforeDOMNode(node,parent=this.parentEl){this.parentEl=parent;for(let elem of this.content)nodeInsertBefore.call(parent,elem,node)}moveBeforeVNode(other,afterNode){const target=other?other.content[0]:afterNode;this.moveBeforeDOMNode(target)}patch(other){if(this===other)return;const html2=other.html;if(this.html!==html2){const parent=this.parentEl,afterNode=this.content[0],template=document.createElement("template");template.innerHTML=html2;const content=[...template.content.childNodes];for(let elem of content)nodeInsertBefore.call(parent,elem,afterNode);if(!content.length){const textNode=document.createTextNode("");content.push(textNode),nodeInsertBefore.call(parent,textNode,afterNode)}this.remove(),this.content=content,this.html=other.html}}beforeRemove(){}remove(){const parent=this.parentEl;for(let elem of this.content)nodeRemoveChild.call(parent,elem)}firstNode(){return this.content[0]}toString(){return this.html}}function html(str){return new VHtml(str)}function mount$1(vnode,fixture,afterNode=null){vnode.mount(fixture,afterNode)}const fibersInError=new WeakMap,nodeErrorHandlers=new WeakMap;function _handleError(node,error){if(!node)return!1;const fiber=node.fiber;fiber&&fibersInError.set(fiber,error);const errorHandlers=nodeErrorHandlers.get(node);if(errorHandlers){let handled=!1;for(let i=errorHandlers.length-1;i>=0;i--)try{errorHandlers[i](error),handled=!0;break}catch(e){error=e}if(handled)return!0}return _handleError(node.parent,error)}function handleError(params){let{error}=params;error instanceof OwlError||(error=Object.assign(new OwlError('An error occured in the owl lifecycle (see this Error\'s "cause" property)'),{cause:error}));const node="node"in params?params.node:params.fiber.node,fiber="fiber"in params?params.fiber:node.fiber;if(fiber){let current=fiber;do{current.node.fiber=current,current=current.parent}while(current);fibersInError.set(fiber.root,error)}if(!_handleError(node,error)){console.warn("[Owl] Unhandled error. Destroying the root component");try{node.app.destroy()}catch(e){console.error(e)}throw error}}function throwOnRender(){throw new OwlError("Attempted to render cancelled fiber")}function cancelFibers(fibers){let result=0;for(let fiber of fibers){let node=fiber.node;fiber.render=throwOnRender,0===node.status&&node.cancel(),node.fiber=null,fiber.bdom?node.forceNextRender=!0:result++,result+=cancelFibers(fiber.children)}return result}class Fiber{constructor(node,parent){if(this.bdom=null,this.children=[],this.appliedToDom=!1,this.deep=!1,this.childrenMap={},this.node=node,this.parent=parent,parent){this.deep=parent.deep;const root=parent.root;root.setCounter(root.counter+1),this.root=root,parent.children.push(this)}else this.root=this}render(){let prev=this.root.node,scheduler=prev.app.scheduler,current=prev.parent;for(;current;){if(current.fiber){let root=current.fiber.root;if(0!==root.counter||!(prev.parentKey in current.fiber.childrenMap))return void scheduler.delayedRenders.push(this);current=root.node}prev=current,current=current.parent}this._render()}_render(){const node=this.node,root=this.root;if(root){try{this.bdom=!0,this.bdom=node.renderFn()}catch(e){node.app.handleError({node,error:e})}root.setCounter(root.counter-1)}}}class RootFiber extends Fiber{constructor(){super(...arguments),this.counter=1,this.willPatch=[],this.patched=[],this.mounted=[],this.locked=!1}complete(){const node=this.node;let current;this.locked=!0;try{for(current of this.willPatch){let node=current.node;if(node.fiber===current){const component=node.component;for(let cb of node.willPatch)cb.call(component)}}current=void 0,node._patch(),this.locked=!1;let mountedFibers=this.mounted;for(;current=mountedFibers.pop();)if(current.appliedToDom)for(let cb of current.node.mounted)cb();let patchedFibers=this.patched;for(;current=patchedFibers.pop();)if(current.appliedToDom)for(let cb of current.node.patched)cb()}catch(e){this.locked=!1,node.app.handleError({fiber:current||this,error:e})}}setCounter(newValue){this.counter=newValue,0===newValue&&this.node.app.scheduler.flush()}}class MountFiber extends RootFiber{constructor(node,target,options={}){super(node,null),this.target=target,this.position=options.position||"last-child"}complete(){let current=this;try{const node=this.node;if(node.children=this.childrenMap,node.app.constructor.validateTarget(this.target),node.bdom)node.updateDom();else if(node.bdom=this.bdom,"last-child"===this.position||0===this.target.childNodes.length)mount$1(node.bdom,this.target);else{const firstChild=this.target.childNodes[0];mount$1(node.bdom,this.target,firstChild)}node.fiber=null,node.status=1,this.appliedToDom=!0;let mountedFibers=this.mounted;for(;current=mountedFibers.pop();)if(current.appliedToDom)for(let cb of current.node.mounted)cb()}catch(e){this.node.app.handleError({fiber:current,error:e})}}}const KEYCHANGES=Symbol("Key changes"),NO_CALLBACK=()=>{throw new Error("Called NO_CALLBACK. Owl is broken, please report this to the maintainers.")},objectToString=Object.prototype.toString,objectHasOwnProperty=Object.prototype.hasOwnProperty,SUPPORTED_RAW_TYPES=new Set(["Object","Array","Set","Map","WeakMap"]),COLLECTION_RAWTYPES=new Set(["Set","Map","WeakMap"]);function rawType(obj){return objectToString.call(toRaw(obj)).slice(8,-1)}function canBeMadeReactive(value){return"object"==typeof value&&SUPPORTED_RAW_TYPES.has(rawType(value))}function possiblyReactive(val,cb){return canBeMadeReactive(val)?reactive(val,cb):val}const skipped=new WeakSet;function toRaw(value){return targets.has(value)?targets.get(value):value}const targetToKeysToCallbacks=new WeakMap;function observeTargetKey(target,key,callback){if(callback===NO_CALLBACK)return;targetToKeysToCallbacks.get(target)||targetToKeysToCallbacks.set(target,new Map);const keyToCallbacks=targetToKeysToCallbacks.get(target);keyToCallbacks.get(key)||keyToCallbacks.set(key,new Set),keyToCallbacks.get(key).add(callback),callbacksToTargets.has(callback)||callbacksToTargets.set(callback,new Set),callbacksToTargets.get(callback).add(target)}function notifyReactives(target,key){const keyToCallbacks=targetToKeysToCallbacks.get(target);if(!keyToCallbacks)return;const callbacks=keyToCallbacks.get(key);if(callbacks)for(const callback of[...callbacks])clearReactivesForCallback(callback),callback()}const callbacksToTargets=new WeakMap;function clearReactivesForCallback(callback){const targetsToClear=callbacksToTargets.get(callback);if(targetsToClear){for(const target of targetsToClear){const observedKeys=targetToKeysToCallbacks.get(target);if(observedKeys)for(const[key,callbacks]of observedKeys.entries())callbacks.delete(callback),callbacks.size||observedKeys.delete(key)}targetsToClear.clear()}}const targets=new WeakMap,reactiveCache=new WeakMap;function reactive(target,callback=NO_CALLBACK){if(!canBeMadeReactive(target))throw new OwlError("Cannot make the given value reactive");if(skipped.has(target))return target;if(targets.has(target))return reactive(targets.get(target),callback);reactiveCache.has(target)||reactiveCache.set(target,new WeakMap);const reactivesForTarget=reactiveCache.get(target);if(!reactivesForTarget.has(callback)){const targetRawType=rawType(target),handler=COLLECTION_RAWTYPES.has(targetRawType)?function collectionsProxyHandler(target,callback,targetRawType){const specialHandlers=rawTypeToFuncHandlers[targetRawType](target,callback);return Object.assign(basicProxyHandler(callback),{get:(target,key)=>objectHasOwnProperty.call(specialHandlers,key)?specialHandlers[key]:(observeTargetKey(target,key,callback),possiblyReactive(target[key],callback))})}(target,callback,targetRawType):basicProxyHandler(callback),proxy=new Proxy(target,handler);reactivesForTarget.set(callback,proxy),targets.set(proxy,target)}return reactivesForTarget.get(callback)}function basicProxyHandler(callback){return{get(target,key,receiver){const desc=Object.getOwnPropertyDescriptor(target,key);return!desc||desc.writable||desc.configurable?(observeTargetKey(target,key,callback),possiblyReactive(Reflect.get(target,key,receiver),callback)):Reflect.get(target,key,receiver)},set(target,key,value,receiver){const hadKey=objectHasOwnProperty.call(target,key),originalValue=Reflect.get(target,key,receiver),ret=Reflect.set(target,key,value,receiver);return!hadKey&&objectHasOwnProperty.call(target,key)&&notifyReactives(target,KEYCHANGES),(originalValue!==Reflect.get(target,key,receiver)||"length"===key&&Array.isArray(target))&&notifyReactives(target,key),ret},deleteProperty(target,key){const ret=Reflect.deleteProperty(target,key);return notifyReactives(target,KEYCHANGES),notifyReactives(target,key),ret},ownKeys:target=>(observeTargetKey(target,KEYCHANGES,callback),Reflect.ownKeys(target)),has:(target,key)=>(observeTargetKey(target,KEYCHANGES,callback),Reflect.has(target,key))}}function makeKeyObserver(methodName,target,callback){return key=>(key=toRaw(key),observeTargetKey(target,key,callback),possiblyReactive(target[methodName](key),callback))}function makeIteratorObserver(methodName,target,callback){return function*(){observeTargetKey(target,KEYCHANGES,callback);const keys=target.keys();for(const item of target[methodName]()){const key=keys.next().value;observeTargetKey(target,key,callback),yield possiblyReactive(item,callback)}}}function makeForEachObserver(target,callback){return function forEach(forEachCb,thisArg){observeTargetKey(target,KEYCHANGES,callback),target.forEach((function(val,key,targetObj){observeTargetKey(target,key,callback),forEachCb.call(thisArg,possiblyReactive(val,callback),possiblyReactive(key,callback),possiblyReactive(targetObj,callback))}),thisArg)}}function delegateAndNotify(setterName,getterName,target){return(key,value)=>{key=toRaw(key);const hadKey=target.has(key),originalValue=target[getterName](key),ret=target[setterName](key,value);return hadKey!==target.has(key)&&notifyReactives(target,KEYCHANGES),originalValue!==target[getterName](key)&&notifyReactives(target,key),ret}}function makeClearNotifier(target){return()=>{const allKeys=[...target.keys()];target.clear(),notifyReactives(target,KEYCHANGES);for(const key of allKeys)notifyReactives(target,key)}}const rawTypeToFuncHandlers={Set:(target,callback)=>({has:makeKeyObserver("has",target,callback),add:delegateAndNotify("add","has",target),delete:delegateAndNotify("delete","has",target),keys:makeIteratorObserver("keys",target,callback),values:makeIteratorObserver("values",target,callback),entries:makeIteratorObserver("entries",target,callback),[Symbol.iterator]:makeIteratorObserver(Symbol.iterator,target,callback),forEach:makeForEachObserver(target,callback),clear:makeClearNotifier(target),get size(){return observeTargetKey(target,KEYCHANGES,callback),target.size}}),Map:(target,callback)=>({has:makeKeyObserver("has",target,callback),get:makeKeyObserver("get",target,callback),set:delegateAndNotify("set","get",target),delete:delegateAndNotify("delete","has",target),keys:makeIteratorObserver("keys",target,callback),values:makeIteratorObserver("values",target,callback),entries:makeIteratorObserver("entries",target,callback),[Symbol.iterator]:makeIteratorObserver(Symbol.iterator,target,callback),forEach:makeForEachObserver(target,callback),clear:makeClearNotifier(target),get size(){return observeTargetKey(target,KEYCHANGES,callback),target.size}}),WeakMap:(target,callback)=>({has:makeKeyObserver("has",target,callback),get:makeKeyObserver("get",target,callback),set:delegateAndNotify("set","get",target),delete:delegateAndNotify("delete","has",target)})};let currentNode=null;function getCurrent(){if(!currentNode)throw new OwlError("No active component (a hook function should only be called in 'setup')");return currentNode}function useComponent(){return currentNode.component}function applyDefaultProps(props,defaultProps){for(let propName in defaultProps)void 0===props[propName]&&(props[propName]=defaultProps[propName])}const batchedRenderFunctions=new WeakMap;function useState(state){const node=getCurrent();let render=batchedRenderFunctions.get(node);return render||(render=function batched(callback){let scheduled=!1;return async(...args)=>{scheduled||(scheduled=!0,await Promise.resolve(),scheduled=!1,callback(...args))}}(node.render.bind(node,!1)),batchedRenderFunctions.set(node,render),node.willDestroy.push(clearReactivesForCallback.bind(null,render))),reactive(state,render)}class ComponentNode{constructor(C,props,app,parent,parentKey){this.fiber=null,this.bdom=null,this.status=0,this.forceNextRender=!1,this.nextProps=null,this.children=Object.create(null),this.refs={},this.willStart=[],this.willUpdateProps=[],this.willUnmount=[],this.mounted=[],this.willPatch=[],this.patched=[],this.willDestroy=[],currentNode=this,this.app=app,this.parent=parent,this.props=props,this.parentKey=parentKey;const defaultProps=C.defaultProps;props=Object.assign({},props),defaultProps&&applyDefaultProps(props,defaultProps);const env=parent&&parent.childEnv||app.env;this.childEnv=env;for(const key in props){const prop=props[key];prop&&"object"==typeof prop&&targets.has(prop)&&(props[key]=useState(prop))}this.component=new C(props,env,this);const ctx=Object.assign(Object.create(this.component),{this:this.component});this.renderFn=app.getTemplate(C.template).bind(this.component,ctx,this),this.component.setup(),currentNode=null}mountComponent(target,options){const fiber=new MountFiber(this,target,options);this.app.scheduler.addFiber(fiber),this.initiateRender(fiber)}async initiateRender(fiber){this.fiber=fiber,this.mounted.length&&fiber.root.mounted.push(fiber);const component=this.component;try{await Promise.all(this.willStart.map((f=>f.call(component))))}catch(e){return void this.app.handleError({node:this,error:e})}0===this.status&&this.fiber===fiber&&fiber.render()}async render(deep){if(this.status>=2)return;let current=this.fiber;if(current&&(current.root.locked||!0===current.bdom)&&(await Promise.resolve(),current=this.fiber),current){if(!current.bdom&&!fibersInError.has(current))return void(deep&&(current.deep=deep));deep=deep||current.deep}else if(!this.bdom)return;const fiber=function makeRootFiber(node){let current=node.fiber;if(current){let root=current.root;return root.locked=!0,root.setCounter(root.counter+1-cancelFibers(current.children)),root.locked=!1,current.children=[],current.childrenMap={},current.bdom=null,fibersInError.has(current)&&(fibersInError.delete(current),fibersInError.delete(root),current.appliedToDom=!1),current}const fiber=new RootFiber(node,null);return node.willPatch.length&&fiber.willPatch.push(fiber),node.patched.length&&fiber.patched.push(fiber),fiber}(this);fiber.deep=deep,this.fiber=fiber,this.app.scheduler.addFiber(fiber),await Promise.resolve(),this.status>=2||this.fiber!==fiber||!current&&fiber.parent||fiber.render()}cancel(){this._cancel(),delete this.parent.children[this.parentKey],this.app.scheduler.scheduleDestroy(this)}_cancel(){this.status=2;const children=this.children;for(let childKey in children)children[childKey]._cancel()}destroy(){let shouldRemove=1===this.status;this._destroy(),shouldRemove&&this.bdom.remove()}_destroy(){const component=this.component;if(1===this.status)for(let cb of this.willUnmount)cb.call(component);for(let child of Object.values(this.children))child._destroy();if(this.willDestroy.length)try{for(let cb of this.willDestroy)cb.call(component)}catch(e){this.app.handleError({error:e,node:this})}this.status=3}async updateAndRender(props,parentFiber){this.nextProps=props,props=Object.assign({},props);const fiber=function makeChildFiber(node,parent){let current=node.fiber;return current&&(cancelFibers(current.children),current.root=null),new Fiber(node,parent)}(this,parentFiber);this.fiber=fiber;const component=this.component,defaultProps=component.constructor.defaultProps;defaultProps&&applyDefaultProps(props,defaultProps),currentNode=this;for(const key in props){const prop=props[key];prop&&"object"==typeof prop&&targets.has(prop)&&(props[key]=useState(prop))}currentNode=null;const prom=Promise.all(this.willUpdateProps.map((f=>f.call(component,props))));if(await prom,fiber!==this.fiber)return;component.props=props,fiber.render();const parentRoot=parentFiber.root;this.willPatch.length&&parentRoot.willPatch.push(fiber),this.patched.length&&parentRoot.patched.push(fiber)}updateDom(){if(this.fiber)if(this.bdom===this.fiber.bdom)for(let k in this.children){this.children[k].updateDom()}else this.bdom.patch(this.fiber.bdom,!1),this.fiber.appliedToDom=!0,this.fiber=null}setRef(name,el){el&&(this.refs[name]=el)}firstNode(){const bdom=this.bdom;return bdom?bdom.firstNode():void 0}mount(parent,anchor){const bdom=this.fiber.bdom;this.bdom=bdom,bdom.mount(parent,anchor),this.status=1,this.fiber.appliedToDom=!0,this.children=this.fiber.childrenMap,this.fiber=null}moveBeforeDOMNode(node,parent){this.bdom.moveBeforeDOMNode(node,parent)}moveBeforeVNode(other,afterNode){this.bdom.moveBeforeVNode(other?other.bdom:null,afterNode)}patch(){this.fiber&&this.fiber.parent&&(this._patch(),this.props=this.nextProps)}_patch(){let hasChildren=!1;for(let _k in this.children){hasChildren=!0;break}const fiber=this.fiber;this.children=fiber.childrenMap,this.bdom.patch(fiber.bdom,hasChildren),fiber.appliedToDom=!0,this.fiber=null}beforeRemove(){this._destroy()}remove(){this.bdom.remove()}get name(){return this.component.constructor.name}get subscriptions(){const render=batchedRenderFunctions.get(this);return render?function getSubscriptions(callback){return[...callbacksToTargets.get(callback)||[]].map((target=>{const keysToCallbacks=targetToKeysToCallbacks.get(target);let keys=[];if(keysToCallbacks)for(const[key,cbs]of keysToCallbacks)cbs.has(callback)&&keys.push(key);return{target,keys}}))}(render):[]}}const TIMEOUT=Symbol("timeout");function wrapError(fn,hookName){const error=new OwlError(`The following error occurred in ${hookName}: `),timeoutError=new OwlError(`${hookName}'s promise hasn't resolved after 3 seconds`),node=getCurrent();return(...args)=>{const onError=cause=>{throw error.cause=cause,cause instanceof Error?error.message+=`"${cause.message}"`:error.message=`Something that is not an Error was thrown in ${hookName} (see this Error's "cause" property)`,error};try{const result=fn(...args);if(result instanceof Promise){if("onWillStart"===hookName||"onWillUpdateProps"===hookName){const fiber=node.fiber;Promise.race([result.catch((()=>{})),new Promise((resolve=>setTimeout((()=>resolve(TIMEOUT)),3e3)))]).then((res=>{res===TIMEOUT&&node.fiber===fiber&&console.warn(timeoutError)}))}return result.catch(onError)}return result}catch(cause){onError(cause)}}}function onWillUpdateProps(fn){const node=getCurrent(),decorate=node.app.dev?wrapError:fn=>fn;node.willUpdateProps.push(decorate(fn.bind(node.component),"onWillUpdateProps"))}function onMounted(fn){const node=getCurrent(),decorate=node.app.dev?wrapError:fn=>fn;node.mounted.push(decorate(fn.bind(node.component),"onMounted"))}function onWillUnmount(fn){const node=getCurrent(),decorate=node.app.dev?wrapError:fn=>fn;node.willUnmount.unshift(decorate(fn.bind(node.component),"onWillUnmount"))}class Component{constructor(props,env,node){this.props=props,this.env=env,this.__owl__=node}setup(){}render(deep=!1){this.__owl__.render(!0===deep)}}Component.template="";const VText=text("").constructor;class VPortal extends VText{constructor(selector,content){super(""),this.target=null,this.selector=selector,this.content=content}mount(parent,anchor){super.mount(parent,anchor),this.target=document.querySelector(this.selector),this.target?this.content.mount(this.target,null):this.content.mount(parent,anchor)}beforeRemove(){this.content.beforeRemove()}remove(){this.content&&(super.remove(),this.content.remove(),this.content=null)}patch(other){super.patch(other),this.content?this.content.patch(other.content,!0):(this.content=other.content,this.content.mount(this.target,null))}}class Portal extends Component{setup(){const node=this.__owl__;onMounted((()=>{const portal=node.bdom;if(!portal.target){const target=document.querySelector(this.props.target);if(!target)throw new OwlError("invalid portal target");portal.content.moveBeforeDOMNode(target.firstChild,target)}})),onWillUnmount((()=>{node.bdom.remove()}))}}Portal.template="__portal__",Portal.props={target:{type:String},slots:!0};const isUnionType=t=>Array.isArray(t),isBaseType=t=>"object"!=typeof t,isValueType=t=>"object"==typeof t&&t&&"value"in t;function isOptional(t){return"object"==typeof t&&"optional"in t&&t.optional||!1}function describeType(type){return"*"===type||!0===type?"value":type.name.toLowerCase()}function describe(info){return isBaseType(info)?describeType(info):isUnionType(info)?info.map(describe).join(" or "):isValueType(info)?String(info.value):"element"in info?`list of ${describe({type:info.element,optional:!1})}s`:"shape"in info?"object":describe(info.type||"*")}function validateSchema(obj,schema){Array.isArray(schema)&&(schema=function toSchema(spec){return Object.fromEntries(spec.map((e=>e.endsWith("?")?[e.slice(0,-1),{optional:!0}]:[e,{type:"*",optional:!1}])))}(schema)),obj=toRaw(obj);let errors=[];for(let key in obj)if(key in schema){let result=validateType(key,obj[key],schema[key]);result&&errors.push(result)}else"*"in schema||errors.push(`unknown key '${key}'`);for(let key in schema){const spec=schema[key];if("*"!==key&&!isOptional(spec)&&!(key in obj)){const isObj="object"==typeof spec&&!Array.isArray(spec);let detail="*"===spec||(isObj&&"type"in spec?"*"===spec.type:isObj)?"":` (should be a ${describe(spec)})`;errors.push(`'${key}' is missing${detail}`)}}return errors}function validateType(key,value,descr){if(void 0===value)return isOptional(descr)?null:`'${key}' is undefined (should be a ${describe(descr)})`;if(isBaseType(descr))return function validateBaseType(key,value,type){if("function"==typeof type)if("object"==typeof value){if(!(value instanceof type))return`'${key}' is not a ${describeType(type)}`}else if(typeof value!==type.name.toLowerCase())return`'${key}' is not a ${describeType(type)}`;return null}(key,value,descr);if(isValueType(descr))return value===descr.value?null:`'${key}' is not equal to '${descr.value}'`;if(isUnionType(descr)){let validDescr=descr.find((p=>!validateType(key,value,p)));return validDescr?null:`'${key}' is not a ${describe(descr)}`}let result=null;if("element"in descr)result=function validateArrayType(key,value,descr){if(!Array.isArray(value))return`'${key}' is not a list of ${describe(descr)}s`;for(let i=0;i<value.length;i++){const error=validateType(`${key}[${i}]`,value[i],descr);if(error)return error}return null}(key,value,descr.element);else if("shape"in descr)if("object"!=typeof value||Array.isArray(value))result=`'${key}' is not an object`;else{const errors=validateSchema(value,descr.shape);errors.length&&(result=`'${key}' doesn't have the correct shape (${errors.join(", ")})`)}else if("values"in descr)if("object"!=typeof value||Array.isArray(value))result=`'${key}' is not an object`;else{const errors=Object.entries(value).map((([key,value])=>validateType(key,value,descr.values))).filter(Boolean);errors.length&&(result=`some of the values in '${key}' are invalid (${errors.join(", ")})`)}return"type"in descr&&!result&&(result=validateType(key,value,descr.type)),"validate"in descr&&!result&&(result=descr.validate(value)?null:`'${key}' is not valid`),result}const ObjectCreate=Object.create;function capture(ctx){const result=ObjectCreate(ctx);for(let k in ctx)result[k]=ctx[k];return result}const isBoundary=Symbol("isBoundary");class LazyValue{constructor(fn,ctx,component,node,key){this.fn=fn,this.ctx=capture(ctx),this.component=component,this.node=node,this.key=key}evaluate(){return this.fn.call(this.component,this.ctx,this.node,this.key)}toString(){return this.evaluate().toString()}}function validateProps(name,props,comp){const ComponentClass="string"!=typeof name?name:comp.constructor.components[name];if(!ComponentClass)return;const schema=ComponentClass.props;if(!schema)return void(comp.__owl__.app.warnIfNoStaticProps&&console.warn(`Component '${ComponentClass.name}' does not have a static props description`));const defaultProps=ComponentClass.defaultProps;if(defaultProps){let isMandatory=name=>Array.isArray(schema)?schema.includes(name):name in schema&&!("*"in schema)&&!isOptional(schema[name]);for(let p in defaultProps)if(isMandatory(p))throw new OwlError(`A default value cannot be defined for a mandatory prop (name: '${p}', component: ${ComponentClass.name})`)}const errors=validateSchema(props,schema);if(errors.length)throw new OwlError(`Invalid props for component '${ComponentClass.name}': `+errors.join(", "))}const helpers={withDefault:function withDefault(value,defaultValue){return null==value||!1===value?defaultValue:value},zero:Symbol("zero"),isBoundary,callSlot:function callSlot(ctx,parent,key,name,dynamic,extra,defaultContent){key=key+"__slot_"+name;const slots=ctx.props.slots||{},{__render,__ctx,__scope}=slots[name]||{},slotScope=ObjectCreate(__ctx||{});__scope&&(slotScope[__scope]=extra);const slotBDom=__render?__render(slotScope,parent,key):null;if(defaultContent){let child1,child2;return slotBDom?child1=dynamic?toggler(name,slotBDom):slotBDom:child2=defaultContent(ctx,parent,key),multi([child1,child2])}return slotBDom||text("")},capture,withKey:function withKey(elem,k){return elem.key=k,elem},prepareList:function prepareList(collection){let keys,values;if(Array.isArray(collection))keys=collection,values=collection;else if(collection instanceof Map)keys=[...collection.keys()],values=[...collection.values()];else if(Symbol.iterator in Object(collection))keys=[...collection],values=keys;else{if(!collection||"object"!=typeof collection)throw new OwlError(`Invalid loop expression: "${collection}" is not iterable`);values=Object.values(collection),keys=Object.keys(collection)}const n=values.length;return[keys,values,n,new Array(n)]},setContextValue:function setContextValue(ctx,key,value){const ctx0=ctx;for(;!ctx.hasOwnProperty(key)&&!ctx.hasOwnProperty(isBoundary);){const newCtx=ctx.__proto__;if(!newCtx){ctx=ctx0;break}ctx=newCtx}ctx[key]=value},shallowEqual:function shallowEqual(l1,l2){for(let i=0,l=l1.length;i<l;i++)if(l1[i]!==l2[i])return!1;return!0},toNumber:function toNumber(val){const n=parseFloat(val);return isNaN(n)?val:n},validateProps,LazyValue,safeOutput:function safeOutput(value,defaultValue){if(null==value)return defaultValue?toggler("default",defaultValue):toggler("undefined",text(""));let safeKey,block;switch(typeof value){case"object":value instanceof Markup?(safeKey="string_safe",block=html(value)):value instanceof LazyValue?(safeKey="lazy_value",block=value.evaluate()):value instanceof String?(safeKey="string_unsafe",block=text(value)):(safeKey="block_safe",block=value);break;case"string":safeKey="string_unsafe",block=text(value);break;default:safeKey="string_unsafe",block=text(String(value))}return toggler(safeKey,block)},createCatcher:function createCatcher(eventsSpec){const n=Object.keys(eventsSpec).length;class VCatcher{constructor(child,handlers){this.handlerFns=[],this.afterNode=null,this.child=child,this.handlerData=handlers}mount(parent,afterNode){this.parentEl=parent,this.child.mount(parent,afterNode),this.afterNode=document.createTextNode(""),parent.insertBefore(this.afterNode,afterNode),this.wrapHandlerData();for(let name in eventsSpec){const index=eventsSpec[name],handler=createEventHandler(name);this.handlerFns[index]=handler,handler.setup.call(parent,this.handlerData[index])}}wrapHandlerData(){for(let i=0;i<n;i++){let handler=this.handlerData[i],idx=handler.length-2,origFn=handler[idx];const self=this;handler[idx]=function(ev){const target=ev.target;let currentNode=self.child.firstNode();const afterNode=self.afterNode;for(;currentNode&&currentNode!==afterNode;){if(currentNode.contains(target))return origFn.call(this,ev);currentNode=currentNode.nextSibling}}}}moveBeforeDOMNode(node,parent=this.parentEl){this.parentEl=parent,this.child.moveBeforeDOMNode(node,parent),parent.insertBefore(this.afterNode,node)}moveBeforeVNode(other,afterNode){other&&(afterNode=other.firstNode()||afterNode),this.child.moveBeforeVNode(other?other.child:null,afterNode),this.parentEl.insertBefore(this.afterNode,afterNode)}patch(other,withBeforeRemove){if(this!==other){this.handlerData=other.handlerData,this.wrapHandlerData();for(let i=0;i<n;i++)this.handlerFns[i].update.call(this.parentEl,this.handlerData[i]);this.child.patch(other.child,withBeforeRemove)}}beforeRemove(){this.child.beforeRemove()}remove(){for(let i=0;i<n;i++)this.handlerFns[i].remove.call(this.parentEl);this.child.remove(),this.afterNode.remove()}firstNode(){return this.child.firstNode()}toString(){return this.child.toString()}}return function(child,handlers){return new VCatcher(child,handlers)}},markRaw:function markRaw(value){return skipped.add(value),value},OwlError,makeRefWrapper:function makeRefWrapper(node){let refNames=new Set;return(name,fn)=>{if(refNames.has(name))throw new OwlError(`Cannot set the same ref more than once in the same component, ref "${name}" was set multiple times in ${node.name}`);return refNames.add(name),fn}}},bdom={text,createBlock,list,multi,html,toggler,comment};class TemplateSet{constructor(config={}){this.rawTemplates=Object.create(globalTemplates),this.templates={},this.Portal=Portal,this.dev=config.dev||!1,this.translateFn=config.translateFn,this.translatableAttributes=config.translatableAttributes,config.templates&&this.addTemplates(config.templates)}static registerTemplate(name,fn){globalTemplates[name]=fn}addTemplate(name,template){if(name in this.rawTemplates){if(!this.dev)return;const rawTemplate=this.rawTemplates[name];if(("string"==typeof rawTemplate?rawTemplate:rawTemplate instanceof Element?rawTemplate.outerHTML:rawTemplate.toString())===("string"==typeof template?template:template.outerHTML))return;throw new OwlError(`Template ${name} already defined with different content`)}this.rawTemplates[name]=template}addTemplates(xml){if(xml){xml=xml instanceof Document?xml:function parseXML$1(xml){const doc=(new DOMParser).parseFromString(xml,"text/xml");if(doc.getElementsByTagName("parsererror").length){let msg="Invalid XML in template.";const parsererrorText=doc.getElementsByTagName("parsererror")[0].textContent;if(parsererrorText){msg+="\nThe parser has produced the following error message:\n"+parsererrorText;const re=/\d+/g,firstMatch=re.exec(parsererrorText);if(firstMatch){const lineNumber=Number(firstMatch[0]),line=xml.split("\n")[lineNumber-1],secondMatch=re.exec(parsererrorText);if(line&&secondMatch){const columnIndex=Number(secondMatch[0])-1;line[columnIndex]&&(msg+=`\nThe error might be located at xml line ${lineNumber} column ${columnIndex}\n${line}\n${"-".repeat(columnIndex-1)}^`)}}}throw new OwlError(msg)}return doc}(xml);for(const template of xml.querySelectorAll("[t-name]")){const name=template.getAttribute("t-name");this.addTemplate(name,template)}}}getTemplate(name){if(!(name in this.templates)){const rawTemplate=this.rawTemplates[name];if(void 0===rawTemplate){let extraInfo="";try{extraInfo=` (for component "${getCurrent().component.constructor.name}")`}catch{}throw new OwlError(`Missing template: "${name}"${extraInfo}`)}const templateFn="function"==typeof rawTemplate&&!(rawTemplate instanceof Element)?rawTemplate:this._compileTemplate(name,rawTemplate),templates=this.templates;this.templates[name]=function(context,parent){return templates[name].call(this,context,parent)};const template=templateFn(this,bdom,helpers);this.templates[name]=template}return this.templates[name]}_compileTemplate(name,template){throw new OwlError("Unable to compile a template. Please use owl full build instead")}callTemplate(owner,subTemplate,ctx,parent,key){return toggler(subTemplate,this.getTemplate(subTemplate).call(owner,ctx,parent,key+subTemplate))}}const globalTemplates={};function xml(...args){const name="__template__"+xml.nextId++,value=String.raw(...args);return globalTemplates[name]=value,name}xml.nextId=1,TemplateSet.registerTemplate("__portal__",(function portalTemplate(app,bdom,helpers){let{callSlot}=helpers;return function template(ctx,node,key=""){return new VPortal(ctx.props.target,callSlot(ctx,node,key,"default",!1,null))}}));const RESERVED_WORDS="true,false,NaN,null,undefined,debugger,console,window,in,instanceof,new,function,return,eval,void,Math,RegExp,Array,Object,Date".split(","),WORD_REPLACEMENT=Object.assign(Object.create(null),{and:"&&",or:"||",gt:">",gte:">=",lt:"<",lte:"<="}),STATIC_TOKEN_MAP=Object.assign(Object.create(null),{"{":"LEFT_BRACE","}":"RIGHT_BRACE","[":"LEFT_BRACKET","]":"RIGHT_BRACKET",":":"COLON",",":"COMMA","(":"LEFT_PAREN",")":"RIGHT_PAREN"}),OPERATORS="...,.,===,==,+,!==,!=,!,||,&&,>=,>,<=,<,?,-,*,/,%,typeof ,=>,=,;,in ,new ,|,&,^,~".split(",");const TOKENIZERS=[function(expr){let s=expr[0],start=s;if("'"!==s&&'"'!==s&&"`"!==s)return!1;let cur,i=1;for(;expr[i]&&expr[i]!==start;){if(cur=expr[i],s+=cur,"\\"===cur){if(i++,cur=expr[i],!cur)throw new OwlError("Invalid expression");s+=cur}i++}if(expr[i]!==start)throw new OwlError("Invalid expression");return s+=start,"`"===start?{type:"TEMPLATE_STRING",value:s,replace:replacer=>s.replace(/\$\{(.*?)\}/g,((match,group)=>"${"+replacer(group)+"}"))}:{type:"VALUE",value:s}},function(expr){let s=expr[0];if(s&&s.match(/[0-9]/)){let i=1;for(;expr[i]&&expr[i].match(/[0-9]|\./);)s+=expr[i],i++;return{type:"VALUE",value:s}}return!1},function(expr){for(let op of OPERATORS)if(expr.startsWith(op))return{type:"OPERATOR",value:op};return!1},function(expr){let s=expr[0];if(s&&s.match(/[a-zA-Z_\$]/)){let i=1;for(;expr[i]&&expr[i].match(/\w/);)s+=expr[i],i++;return s in WORD_REPLACEMENT?{type:"OPERATOR",value:WORD_REPLACEMENT[s],size:s.length}:{type:"SYMBOL",value:s}}return!1},function(expr){const char=expr[0];return!(!char||!(char in STATIC_TOKEN_MAP))&&{type:STATIC_TOKEN_MAP[char],value:char}}];const isLeftSeparator=token=>token&&("LEFT_BRACE"===token.type||"COMMA"===token.type),isRightSeparator=token=>token&&("RIGHT_BRACE"===token.type||"COMMA"===token.type);function compileExprToArray(expr){const localVars=new Set,tokens=function tokenize(expr){const result=[];let error,token=!0,current=expr;try{for(;token;)if(current=current.trim(),current){for(let tokenizer of TOKENIZERS)if(token=tokenizer(current),token){result.push(token),current=current.slice(token.size||token.value.length);break}}else token=!1}catch(e){error=e}if(current.length||error)throw new OwlError(`Tokenizer error: could not tokenize \`${expr}\``);return result}(expr);let i=0,stack=[];for(;i<tokens.length;){let token=tokens[i],prevToken=tokens[i-1],nextToken=tokens[i+1],groupType=stack[stack.length-1];switch(token.type){case"LEFT_BRACE":case"LEFT_BRACKET":stack.push(token.type);break;case"RIGHT_BRACE":case"RIGHT_BRACKET":stack.pop()}let isVar="SYMBOL"===token.type&&!RESERVED_WORDS.includes(token.value);if("SYMBOL"!==token.type||RESERVED_WORDS.includes(token.value)||prevToken&&("LEFT_BRACE"===groupType&&isLeftSeparator(prevToken)&&isRightSeparator(nextToken)&&(tokens.splice(i+1,0,{type:"COLON",value:":"},{...token}),nextToken=tokens[i+1]),"OPERATOR"===prevToken.type&&"."===prevToken.value?isVar=!1:"LEFT_BRACE"!==prevToken.type&&"COMMA"!==prevToken.type||nextToken&&"COLON"===nextToken.type&&(isVar=!1)),"TEMPLATE_STRING"===token.type&&(token.value=token.replace((expr=>compileExpr(expr)))),nextToken&&"OPERATOR"===nextToken.type&&"=>"===nextToken.value)if("RIGHT_PAREN"===token.type){let j=i-1;for(;j>0&&"LEFT_PAREN"!==tokens[j].type;)"SYMBOL"===tokens[j].type&&tokens[j].originalValue&&(tokens[j].value=tokens[j].originalValue,localVars.add(tokens[j].value)),j--}else localVars.add(token.value);isVar&&(token.varName=token.value,localVars.has(token.value)||(token.originalValue=token.value,token.value=`ctx['${token.value}']`)),i++}for(const token of tokens)"SYMBOL"===token.type&&token.varName&&localVars.has(token.value)&&(token.originalValue=token.value,token.value=`_${token.value}`,token.isLocal=!0);return tokens}const paddedValues=new Map([["in "," in "]]);function compileExpr(expr){return compileExprToArray(expr).map((t=>paddedValues.get(t.value)||t.value)).join("")}const INTERP_REGEXP=/\{\{.*?\}\}|\#\{.*?\}/g;function replaceDynamicParts(s,replacer){let matches=s.match(INTERP_REGEXP);if(matches&&matches[0].length===s.length)return`(${replacer(s.slice(2,"{"===matches[0][0]?-2:-1))})`;let r=s.replace(INTERP_REGEXP,(s=>"${"+replacer(s.slice(2,"{"===s[0]?-2:-1))+"}"));return"`"+r+"`"}function interpolate(s){return replaceDynamicParts(s,compileExpr)}const whitespaceRE=/\s+/g,xmlDoc=document.implementation.createDocument(null,null,null),MODS=new Set(["stop","capture","prevent","self","synthetic"]);let nextDataIds={};function generateId(prefix=""){return nextDataIds[prefix]=(nextDataIds[prefix]||0)+1,prefix+nextDataIds[prefix]}function isProp(tag,key){switch(tag){case"input":return"checked"===key||"indeterminate"===key||"value"===key||"readonly"===key||"readOnly"===key||"disabled"===key;case"option":return"selected"===key||"disabled"===key;case"textarea":return"value"===key||"readonly"===key||"readOnly"===key||"disabled"===key;case"select":return"value"===key||"disabled"===key;case"button":case"optgroup":return"disabled"===key}return!1}class BlockDescription{constructor(target,type){this.dynamicTagName=null,this.isRoot=!1,this.hasDynamicChildren=!1,this.children=[],this.data=[],this.childNumber=0,this.parentVar="",this.id=BlockDescription.nextBlockId++,this.varName="b"+this.id,this.blockName="block"+this.id,this.target=target,this.type=type}insertData(str,prefix="d"){const id=generateId(prefix);return this.target.addLine(`let ${id} = ${str};`),this.data.push(id)-1}insert(dom){this.currentDom?this.currentDom.appendChild(dom):this.dom=dom}generateExpr(expr){if("block"===this.type){const hasChildren=this.children.length;let params=this.data.length?`[${this.data.join(", ")}]`:hasChildren?"[]":"";return hasChildren&&(params+=", ["+this.children.map((c=>c.varName)).join(", ")+"]"),this.dynamicTagName?`toggler(${this.dynamicTagName}, ${this.blockName}(${this.dynamicTagName})(${params}))`:`${this.blockName}(${params})`}return"list"===this.type?`list(c_block${this.id})`:expr}asXmlString(){const t=xmlDoc.createElement("t");return t.appendChild(this.dom),t.innerHTML}}function createContext(parentCtx,params){return Object.assign({block:null,index:0,forceNewBlock:!0,translate:parentCtx.translate,tKeyExpr:null,nameSpace:parentCtx.nameSpace,tModelSelectedExpr:parentCtx.tModelSelectedExpr},params)}BlockDescription.nextBlockId=1;class CodeTarget{constructor(name,on){this.indentLevel=0,this.loopLevel=0,this.code=[],this.hasRoot=!1,this.hasCache=!1,this.shouldProtectScope=!1,this.hasRefWrapper=!1,this.name=name,this.on=on||null}addLine(line,idx){const prefix=new Array(this.indentLevel+2).join("  ");void 0===idx?this.code.push(prefix+line):this.code.splice(idx,0,prefix+line)}generateCode(){let result=[];result.push(`function ${this.name}(ctx, node, key = "") {`),this.shouldProtectScope&&(result.push("  ctx = Object.create(ctx);"),result.push("  ctx[isBoundary] = 1")),this.hasRefWrapper&&result.push("  let refWrapper = makeRefWrapper(this.__owl__);"),this.hasCache&&(result.push("  let cache = ctx.cache || {};"),result.push("  let nextCache = ctx.cache = {};"));for(let line of this.code)result.push(line);return this.hasRoot||result.push("return text('');"),result.push("}"),result.join("\n  ")}currentKey(ctx){let key=this.loopLevel?`key${this.loopLevel}`:"key";return ctx.tKeyExpr&&(key=`${ctx.tKeyExpr} + ${key}`),key}}const TRANSLATABLE_ATTRS=["label","title","placeholder","alt"],translationRE=/^(\s*)([\s\S]+?)(\s*)$/;class CodeGenerator{constructor(ast,options){if(this.blocks=[],this.nextBlockId=1,this.isDebug=!1,this.targets=[],this.target=new CodeTarget("template"),this.translatableAttributes=TRANSLATABLE_ATTRS,this.staticDefs=[],this.slotNames=new Set,this.helpers=new Set,this.translateFn=options.translateFn||(s=>s),options.translatableAttributes){const attrs=new Set(TRANSLATABLE_ATTRS);for(let attr of options.translatableAttributes)attr.startsWith("-")?attrs.delete(attr.slice(1)):attrs.add(attr);this.translatableAttributes=[...attrs]}this.hasSafeContext=options.hasSafeContext||!1,this.dev=options.dev||!1,this.ast=ast,this.templateName=options.name}generateCode(){const ast=this.ast;this.isDebug=12===ast.type,BlockDescription.nextBlockId=1,nextDataIds={},this.compileAST(ast,{block:null,index:0,forceNewBlock:!1,isLast:!0,translate:!0,tKeyExpr:null});let mainCode=["  let { text, createBlock, list, multi, html, toggler, comment } = bdom;"];this.helpers.size&&mainCode.push(`let { ${[...this.helpers].join(", ")} } = helpers;`),this.templateName&&mainCode.push(`// Template name: "${this.templateName}"`);for(let{id,expr}of this.staticDefs)mainCode.push(`const ${id} = ${expr};`);if(this.blocks.length){mainCode.push("");for(let block of this.blocks)if(block.dom){let xmlString=block.asXmlString();xmlString=xmlString.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),block.dynamicTagName?(xmlString=xmlString.replace(/^<\w+/,`<\${tag || '${block.dom.nodeName}'}`),xmlString=xmlString.replace(/\w+>$/,`\${tag || '${block.dom.nodeName}'}>`),mainCode.push(`let ${block.blockName} = tag => createBlock(\`${xmlString}\`);`)):mainCode.push(`let ${block.blockName} = createBlock(\`${xmlString}\`);`)}}if(this.targets.length)for(let fn of this.targets)mainCode.push(""),mainCode=mainCode.concat(fn.generateCode());mainCode.push(""),mainCode=mainCode.concat("return "+this.target.generateCode());const code=mainCode.join("\n  ");if(this.isDebug){const msg=`[Owl Debug]\n${code}`;console.log(msg)}return code}compileInNewTarget(prefix,ast,ctx,on){const name=generateId(prefix),initialTarget=this.target,target=new CodeTarget(name,on);return this.targets.push(target),this.target=target,this.compileAST(ast,createContext(ctx)),this.target=initialTarget,name}addLine(line,idx){this.target.addLine(line,idx)}define(varName,expr){this.addLine(`const ${varName} = ${expr};`)}insertAnchor(block,index=block.children.length){const tag=`block-child-${index}`,anchor=xmlDoc.createElement(tag);block.insert(anchor)}createBlock(parentBlock,type,ctx){const hasRoot=this.target.hasRoot,block=new BlockDescription(this.target,type);return hasRoot||(this.target.hasRoot=!0,block.isRoot=!0),parentBlock&&(parentBlock.children.push(block),"list"===parentBlock.type&&(block.parentVar=`c_block${parentBlock.id}`)),block}insertBlock(expression,block,ctx){let blockExpr=block.generateExpr(expression);if(block.parentVar){let key=this.target.currentKey(ctx);return this.helpers.add("withKey"),void this.addLine(`${block.parentVar}[${ctx.index}] = withKey(${blockExpr}, ${key});`)}ctx.tKeyExpr&&(blockExpr=`toggler(${ctx.tKeyExpr}, ${blockExpr})`),block.isRoot?(this.target.on&&(blockExpr=this.wrapWithEventCatcher(blockExpr,this.target.on)),this.addLine(`return ${blockExpr};`)):this.define(block.varName,blockExpr)}captureExpression(expr,forceCapture=!1){if(!forceCapture&&!expr.includes("=>"))return compileExpr(expr);const tokens=compileExprToArray(expr),mapping=new Map;return tokens.map((tok=>{if(tok.varName&&!tok.isLocal){if(!mapping.has(tok.varName)){const varId=generateId("v");mapping.set(tok.varName,varId),this.define(varId,tok.value)}tok.value=mapping.get(tok.varName)}return tok.value})).join("")}translate(str){const match=translationRE.exec(str);return match[1]+this.translateFn(match[2])+match[3]}compileAST(ast,ctx){switch(ast.type){case 1:return this.compileComment(ast,ctx);case 0:return this.compileText(ast,ctx);case 2:return this.compileTDomNode(ast,ctx);case 4:return this.compileTEsc(ast,ctx);case 8:return this.compileTOut(ast,ctx);case 5:return this.compileTIf(ast,ctx);case 9:return this.compileTForeach(ast,ctx);case 10:return this.compileTKey(ast,ctx);case 3:return this.compileMulti(ast,ctx);case 7:return this.compileTCall(ast,ctx);case 15:return this.compileTCallBlock(ast,ctx);case 6:return this.compileTSet(ast,ctx);case 11:return this.compileComponent(ast,ctx);case 12:return this.compileDebug(ast,ctx);case 13:return this.compileLog(ast,ctx);case 14:return this.compileTSlot(ast,ctx);case 16:return this.compileTTranslation(ast,ctx);case 17:return this.compileTPortal(ast,ctx)}}compileDebug(ast,ctx){return this.addLine("debugger;"),ast.content?this.compileAST(ast.content,ctx):null}compileLog(ast,ctx){return this.addLine(`console.log(${compileExpr(ast.expr)});`),ast.content?this.compileAST(ast.content,ctx):null}compileComment(ast,ctx){let{block,forceNewBlock}=ctx;if(!block||forceNewBlock)block=this.createBlock(block,"comment",ctx),this.insertBlock(`comment(\`${ast.value}\`)`,block,{...ctx,forceNewBlock:forceNewBlock&&!block});else{const text=xmlDoc.createComment(ast.value);block.insert(text)}return block.varName}compileText(ast,ctx){let{block,forceNewBlock}=ctx,value=ast.value;if(value&&!1!==ctx.translate&&(value=this.translate(value)),ctx.inPreTag||(value=value.replace(whitespaceRE," ")),!block||forceNewBlock)block=this.createBlock(block,"text",ctx),this.insertBlock(`text(\`${value}\`)`,block,{...ctx,forceNewBlock:forceNewBlock&&!block});else{const createFn=0===ast.type?xmlDoc.createTextNode:xmlDoc.createComment;block.insert(createFn.call(xmlDoc,value))}return block.varName}generateHandlerCode(rawEvent,handler){const modifiers=rawEvent.split(".").slice(1).map((m=>{if(!MODS.has(m))throw new OwlError(`Unknown event modifier: '${m}'`);return`"${m}"`}));let modifiersCode="";return modifiers.length&&(modifiersCode=`${modifiers.join(",")}, `),`[${modifiersCode}${this.captureExpression(handler)}, ctx]`}compileTDomNode(ast,ctx){let{block,forceNewBlock}=ctx;const isNewBlock=!block||forceNewBlock||null!==ast.dynamicTag||ast.ns;let codeIdx=this.target.code.length;if(isNewBlock&&((ast.dynamicTag||ctx.tKeyExpr||ast.ns)&&ctx.block&&this.insertAnchor(ctx.block),block=this.createBlock(block,"block",ctx),this.blocks.push(block),ast.dynamicTag)){const tagExpr=generateId("tag");this.define(tagExpr,compileExpr(ast.dynamicTag)),block.dynamicTagName=tagExpr}const attrs={};for(let key in ast.attrs){let expr,attrName;if(key.startsWith("t-attf")){expr=interpolate(ast.attrs[key]);const idx=block.insertData(expr,"attr");attrName=key.slice(7),attrs["block-attribute-"+idx]=attrName}else if(key.startsWith("t-att"))if(attrName="t-att"===key?null:key.slice(6),expr=compileExpr(ast.attrs[key]),attrName&&isProp(ast.tag,attrName)){"readonly"===attrName&&(attrName="readOnly"),expr="value"===attrName?`new String((${expr}) === 0 ? 0 : ((${expr}) || ""))`:`new Boolean(${expr})`;attrs[`block-property-${block.insertData(expr,"prop")}`]=attrName}else{const idx=block.insertData(expr,"attr");"t-att"===key?attrs["block-attributes"]=String(idx):attrs[`block-attribute-${idx}`]=attrName}else this.translatableAttributes.includes(key)?attrs[key]=this.translateFn(ast.attrs[key]):(expr=`"${ast.attrs[key]}"`,attrName=key,attrs[key]=ast.attrs[key]);if("value"===attrName&&ctx.tModelSelectedExpr){attrs[`block-attribute-${block.insertData(`${ctx.tModelSelectedExpr} === ${expr}`,"attr")}`]="selected"}}let tModelSelectedExpr;if(ast.model){const{hasDynamicChildren,baseExpr,expr,eventType,shouldNumberize,shouldTrim,targetAttr,specialInitTargetAttr}=ast.model,baseExpression=compileExpr(baseExpr),bExprId=generateId("bExpr");this.define(bExprId,baseExpression);const expression=compileExpr(expr),exprId=generateId("expr");this.define(exprId,expression);const fullExpression=`${bExprId}[${exprId}]`;let idx;if(specialInitTargetAttr){let targetExpr=targetAttr in attrs&&`'${attrs[targetAttr]}'`;if(!targetExpr&&ast.attrs){const dynamicTgExpr=ast.attrs[`t-att-${targetAttr}`];dynamicTgExpr&&(targetExpr=compileExpr(dynamicTgExpr))}idx=block.insertData(`${fullExpression} === ${targetExpr}`,"prop"),attrs[`block-property-${idx}`]=specialInitTargetAttr}else if(hasDynamicChildren){tModelSelectedExpr=`${generateId("bValue")}`,this.define(tModelSelectedExpr,fullExpression)}else idx=block.insertData(`${fullExpression}`,"prop"),attrs[`block-property-${idx}`]=targetAttr;this.helpers.add("toNumber");let valueCode=`ev.target.${targetAttr}`;valueCode=shouldTrim?`${valueCode}.trim()`:valueCode,valueCode=shouldNumberize?`toNumber(${valueCode})`:valueCode;const handler=`[(ev) => { ${fullExpression} = ${valueCode}; }]`;idx=block.insertData(handler,"hdlr"),attrs[`block-handler-${idx}`]=eventType}for(let ev in ast.on){const name=this.generateHandlerCode(ev,ast.on[ev]);attrs[`block-handler-${block.insertData(name,"hdlr")}`]=ev}if(ast.ref){this.dev&&(this.helpers.add("makeRefWrapper"),this.target.hasRefWrapper=!0);const isDynamic=INTERP_REGEXP.test(ast.ref);let name=`\`${ast.ref}\``;isDynamic&&(name=replaceDynamicParts(ast.ref,(expr=>this.captureExpression(expr,!0))));let setRefStr=`(el) => this.__owl__.setRef((${name}), el)`;this.dev&&(setRefStr=`refWrapper(${name}, ${setRefStr})`);const idx=block.insertData(setRefStr,"ref");attrs["block-ref"]=String(idx)}const nameSpace=ast.ns||ctx.nameSpace,dom=nameSpace?xmlDoc.createElementNS(nameSpace,ast.tag):xmlDoc.createElement(ast.tag);for(const[attr,val]of Object.entries(attrs))"class"===attr&&""===val||dom.setAttribute(attr,val);if(block.insert(dom),ast.content.length){const initialDom=block.currentDom;block.currentDom=dom;const children=ast.content;for(let i=0;i<children.length;i++){const child=ast.content[i],subCtx=createContext(ctx,{block,index:block.childNumber,forceNewBlock:!1,isLast:ctx.isLast&&i===children.length-1,tKeyExpr:ctx.tKeyExpr,nameSpace,tModelSelectedExpr,inPreTag:ctx.inPreTag||"pre"===ast.tag});this.compileAST(child,subCtx)}block.currentDom=initialDom}if(isNewBlock&&(this.insertBlock(`${block.blockName}(ddd)`,block,ctx),block.children.length&&block.hasDynamicChildren)){const code=this.target.code,children=block.children.slice();let current=children.shift();for(let i=codeIdx;i<code.length&&(!code[i].trimStart().startsWith(`const ${current.varName} `)||(code[i]=code[i].replace(`const ${current.varName}`,current.varName),current=children.shift(),current));i++);this.addLine(`let ${block.children.map((c=>c.varName)).join(", ")};`,codeIdx)}return block.varName}compileTEsc(ast,ctx){let expr,{block,forceNewBlock}=ctx;if("0"===ast.expr?(this.helpers.add("zero"),expr="ctx[zero]"):(expr=compileExpr(ast.expr),ast.defaultValue&&(this.helpers.add("withDefault"),expr=`withDefault(${expr}, \`${ast.defaultValue}\`)`)),!block||forceNewBlock)block=this.createBlock(block,"text",ctx),this.insertBlock(`text(${expr})`,block,{...ctx,forceNewBlock:forceNewBlock&&!block});else{const idx=block.insertData(expr,"txt"),text=xmlDoc.createElement(`block-text-${idx}`);block.insert(text)}return block.varName}compileTOut(ast,ctx){let blockStr,{block}=ctx;if(block&&this.insertAnchor(block),block=this.createBlock(block,"html",ctx),"0"===ast.expr)this.helpers.add("zero"),blockStr="ctx[zero]";else if(ast.body){let bodyValue=null;bodyValue=BlockDescription.nextBlockId;const subCtx=createContext(ctx);this.compileAST({type:3,content:ast.body},subCtx),this.helpers.add("safeOutput"),blockStr=`safeOutput(${compileExpr(ast.expr)}, b${bodyValue})`}else this.helpers.add("safeOutput"),blockStr=`safeOutput(${compileExpr(ast.expr)})`;return this.insertBlock(blockStr,block,ctx),block.varName}compileTIfBranch(content,block,ctx){this.target.indentLevel++;let childN=block.children.length;this.compileAST(content,createContext(ctx,{block,index:ctx.index})),block.children.length>childN&&this.insertAnchor(block,childN),this.target.indentLevel--}compileTIf(ast,ctx,nextNode){let{block,forceNewBlock}=ctx;const codeIdx=this.target.code.length,isNewBlock=!block||"multi"!==block.type&&forceNewBlock;if(block&&(block.hasDynamicChildren=!0),(!block||"multi"!==block.type&&forceNewBlock)&&(block=this.createBlock(block,"multi",ctx)),this.addLine(`if (${compileExpr(ast.condition)}) {`),this.compileTIfBranch(ast.content,block,ctx),ast.tElif)for(let clause of ast.tElif)this.addLine(`} else if (${compileExpr(clause.condition)}) {`),this.compileTIfBranch(clause.content,block,ctx);if(ast.tElse&&(this.addLine("} else {"),this.compileTIfBranch(ast.tElse,block,ctx)),this.addLine("}"),isNewBlock){if(block.children.length){const code=this.target.code,children=block.children.slice();let current=children.shift();for(let i=codeIdx;i<code.length&&(!code[i].trimStart().startsWith(`const ${current.varName} `)||(code[i]=code[i].replace(`const ${current.varName}`,current.varName),current=children.shift(),current));i++);this.addLine(`let ${block.children.map((c=>c.varName)).join(", ")};`,codeIdx)}const args=block.children.map((c=>c.varName)).join(", ");this.insertBlock(`multi([${args}])`,block,ctx)}return block.varName}compileTForeach(ast,ctx){let{block}=ctx;block&&this.insertAnchor(block),block=this.createBlock(block,"list",ctx),this.target.loopLevel++;const loopVar=`i${this.target.loopLevel}`;this.addLine("ctx = Object.create(ctx);");const vals=`v_block${block.id}`,keys=`k_block${block.id}`,l=`l_block${block.id}`,c=`c_block${block.id}`;let id;this.helpers.add("prepareList"),this.define(`[${keys}, ${vals}, ${l}, ${c}]`,`prepareList(${compileExpr(ast.collection)});`),this.dev&&this.define(`keys${block.id}`,"new Set()"),this.addLine(`for (let ${loopVar} = 0; ${loopVar} < ${l}; ${loopVar}++) {`),this.target.indentLevel++,this.addLine(`ctx[\`${ast.elem}\`] = ${keys}[${loopVar}];`),ast.hasNoFirst||this.addLine(`ctx[\`${ast.elem}_first\`] = ${loopVar} === 0;`),ast.hasNoLast||this.addLine(`ctx[\`${ast.elem}_last\`] = ${loopVar} === ${keys}.length - 1;`),ast.hasNoIndex||this.addLine(`ctx[\`${ast.elem}_index\`] = ${loopVar};`),ast.hasNoValue||this.addLine(`ctx[\`${ast.elem}_value\`] = ${vals}[${loopVar}];`),this.define(`key${this.target.loopLevel}`,ast.key?compileExpr(ast.key):loopVar),this.dev&&(this.helpers.add("OwlError"),this.addLine(`if (keys${block.id}.has(String(key${this.target.loopLevel}))) { throw new OwlError(\`Got duplicate key in t-foreach: \${key${this.target.loopLevel}}\`)}`),this.addLine(`keys${block.id}.add(String(key${this.target.loopLevel}));`)),ast.memo&&(this.target.hasCache=!0,id=generateId(),this.define(`memo${id}`,compileExpr(ast.memo)),this.define(`vnode${id}`,`cache[key${this.target.loopLevel}];`),this.addLine(`if (vnode${id}) {`),this.target.indentLevel++,this.addLine(`if (shallowEqual(vnode${id}.memo, memo${id})) {`),this.target.indentLevel++,this.addLine(`${c}[${loopVar}] = vnode${id};`),this.addLine(`nextCache[key${this.target.loopLevel}] = vnode${id};`),this.addLine("continue;"),this.target.indentLevel--,this.addLine("}"),this.target.indentLevel--,this.addLine("}"));const subCtx=createContext(ctx,{block,index:loopVar});return this.compileAST(ast.body,subCtx),ast.memo&&this.addLine(`nextCache[key${this.target.loopLevel}] = Object.assign(${c}[${loopVar}], {memo: memo${id}});`),this.target.indentLevel--,this.target.loopLevel--,this.addLine("}"),ctx.isLast||this.addLine("ctx = ctx.__proto__;"),this.insertBlock("l",block,ctx),block.varName}compileTKey(ast,ctx){const tKeyExpr=generateId("tKey_");return this.define(tKeyExpr,compileExpr(ast.expr)),ctx=createContext(ctx,{tKeyExpr,block:ctx.block,index:ctx.index}),this.compileAST(ast.content,ctx)}compileMulti(ast,ctx){let{block,forceNewBlock}=ctx;const isNewBlock=!block||forceNewBlock;let codeIdx=this.target.code.length;if(isNewBlock){let result=null;if(ast.content.filter((c=>6!==c.type)).length<=1){for(let child of ast.content){const blockName=this.compileAST(child,ctx);result=result||blockName}return result}block=this.createBlock(block,"multi",ctx)}let index=0;for(let i=0,l=ast.content.length;i<l;i++){const child=ast.content[i],isTSet=6===child.type,subCtx=createContext(ctx,{block,index,forceNewBlock:!isTSet,isLast:ctx.isLast&&i===l-1});this.compileAST(child,subCtx),isTSet||index++}if(isNewBlock){if(block.hasDynamicChildren&&block.children.length){const code=this.target.code,children=block.children.slice();let current=children.shift();for(let i=codeIdx;i<code.length&&(!code[i].trimStart().startsWith(`const ${current.varName} `)||(code[i]=code[i].replace(`const ${current.varName}`,current.varName),current=children.shift(),current));i++);this.addLine(`let ${block.children.map((c=>c.varName)).join(", ")};`,codeIdx)}const args=block.children.map((c=>c.varName)).join(", ");this.insertBlock(`multi([${args}])`,block,ctx)}return block.varName}compileTCall(ast,ctx){let{block,forceNewBlock}=ctx,ctxVar=ctx.ctxVar||"ctx";ast.context&&(ctxVar=generateId("ctx"),this.addLine(`let ${ctxVar} = ${compileExpr(ast.context)};`));const isDynamic=INTERP_REGEXP.test(ast.name),subTemplate=isDynamic?interpolate(ast.name):"`"+ast.name+"`";if(block&&!forceNewBlock&&this.insertAnchor(block),block=this.createBlock(block,"multi",ctx),ast.body){this.addLine(`${ctxVar} = Object.create(${ctxVar});`),this.addLine(`${ctxVar}[isBoundary] = 1;`),this.helpers.add("isBoundary");const subCtx=createContext(ctx,{ctxVar}),bl=this.compileMulti({type:3,content:ast.body},subCtx);bl&&(this.helpers.add("zero"),this.addLine(`${ctxVar}[zero] = ${bl};`))}const key=`key + \`${this.generateComponentKey()}\``;if(isDynamic){const templateVar=generateId("template");this.staticDefs.find((d=>"call"===d.id))||this.staticDefs.push({id:"call",expr:"app.callTemplate.bind(app)"}),this.define(templateVar,subTemplate),this.insertBlock(`call(this, ${templateVar}, ${ctxVar}, node, ${key})`,block,{...ctx,forceNewBlock:!block})}else{const id=generateId("callTemplate_");this.staticDefs.push({id,expr:`app.getTemplate(${subTemplate})`}),this.insertBlock(`${id}.call(this, ${ctxVar}, node, ${key})`,block,{...ctx,forceNewBlock:!block})}return ast.body&&!ctx.isLast&&this.addLine(`${ctxVar} = ${ctxVar}.__proto__;`),block.varName}compileTCallBlock(ast,ctx){let{block,forceNewBlock}=ctx;return block&&(forceNewBlock||this.insertAnchor(block)),block=this.createBlock(block,"multi",ctx),this.insertBlock(compileExpr(ast.name),block,{...ctx,forceNewBlock:!block}),block.varName}compileTSet(ast,ctx){this.target.shouldProtectScope=!0,this.helpers.add("isBoundary").add("withDefault");const expr=ast.value?compileExpr(ast.value||""):"null";if(ast.body){this.helpers.add("LazyValue");const bodyAst={type:3,content:ast.body};let value=`new LazyValue(${this.compileInNewTarget("value",bodyAst,ctx)}, ctx, this, node, ${this.target.currentKey(ctx)})`;value=ast.value?value?`withDefault(${expr}, ${value})`:expr:value,this.addLine(`ctx[\`${ast.name}\`] = ${value};`)}else{let value;if(ast.defaultValue){const defaultValue=ctx.translate?this.translate(ast.defaultValue):ast.defaultValue;value=ast.value?`withDefault(${expr}, \`${defaultValue}\`)`:`\`${defaultValue}\``}else value=expr;this.helpers.add("setContextValue"),this.addLine(`setContextValue(${ctx.ctxVar||"ctx"}, "${ast.name}", ${value});`)}return null}generateComponentKey(){const parts=[generateId("__")];for(let i=0;i<this.target.loopLevel;i++)parts.push(`\${key${i+1}}`);return parts.join("__")}formatProp(name,value){if(value=this.captureExpression(value),name.includes(".")){let[_name,suffix]=name.split(".");switch(name=_name,suffix){case"bind":value=`(${value}).bind(this)`;break;case"alike":break;default:throw new OwlError("Invalid prop suffix")}}return`${name=/^[a-z_]+$/i.test(name)?name:`'${name}'`}: ${value||void 0}`}formatPropObject(obj){return Object.entries(obj).map((([k,v])=>this.formatProp(k,v)))}getPropString(props,dynProps){let propString=`{${props.join(",")}}`;return dynProps&&(propString=`Object.assign({}, ${compileExpr(dynProps)}${props.length?", "+propString:""})`),propString}compileComponent(ast,ctx){let{block}=ctx;const hasSlotsProp="slots"in(ast.props||{}),props=ast.props?this.formatPropObject(ast.props):[];let slotDef="";if(ast.slots){let ctxStr="ctx";!this.target.loopLevel&&this.hasSafeContext||(ctxStr=generateId("ctx"),this.helpers.add("capture"),this.define(ctxStr,"capture(ctx)"));let slotStr=[];for(let slotName in ast.slots){const slotAst=ast.slots[slotName],params=[];if(slotAst.content){const name=this.compileInNewTarget("slot",slotAst.content,ctx,slotAst.on);params.push(`__render: ${name}.bind(this), __ctx: ${ctxStr}`)}const scope=ast.slots[slotName].scope;scope&&params.push(`__scope: "${scope}"`),ast.slots[slotName].attrs&&params.push(...this.formatPropObject(ast.slots[slotName].attrs));const slotInfo=`{${params.join(", ")}}`;slotStr.push(`'${slotName}': ${slotInfo}`)}slotDef=`{${slotStr.join(", ")}}`}!slotDef||ast.dynamicProps||hasSlotsProp||(this.helpers.add("markRaw"),props.push(`slots: markRaw(${slotDef})`));let propVar,propString=this.getPropString(props,ast.dynamicProps);(slotDef&&(ast.dynamicProps||hasSlotsProp)||this.dev)&&(propVar=generateId("props"),this.define(propVar,propString),propString=propVar),slotDef&&(ast.dynamicProps||hasSlotsProp)&&(this.helpers.add("markRaw"),this.addLine(`${propVar}.slots = markRaw(Object.assign(${slotDef}, ${propVar}.slots))`));const key=this.generateComponentKey();let expr;ast.isDynamic?(expr=generateId("Comp"),this.define(expr,compileExpr(ast.name))):expr=`\`${ast.name}\``,this.dev&&this.addLine(`helpers.validateProps(${expr}, ${propVar}, this);`),block&&(!1===ctx.forceNewBlock||ctx.tKeyExpr)&&this.insertAnchor(block);let keyArg=`key + \`${key}\``;ctx.tKeyExpr&&(keyArg=`${ctx.tKeyExpr} + ${keyArg}`);let id=generateId("comp");const propList=[];for(let p in ast.props||{}){let[name,suffix]=p.split(".");suffix||propList.push(`"${name}"`)}this.staticDefs.push({id,expr:`app.createComponent(${ast.isDynamic?null:expr}, ${!ast.isDynamic}, ${!!ast.slots}, ${!!ast.dynamicProps}, [${propList}])`}),ast.isDynamic&&(keyArg=`(${expr}).name + ${keyArg}`);let blockExpr=`${id}(${propString}, ${keyArg}, node, this, ${ast.isDynamic?expr:null})`;return ast.isDynamic&&(blockExpr=`toggler(${expr}, ${blockExpr})`),ast.on&&(blockExpr=this.wrapWithEventCatcher(blockExpr,ast.on)),block=this.createBlock(block,"multi",ctx),this.insertBlock(blockExpr,block,ctx),block.varName}wrapWithEventCatcher(expr,on){this.helpers.add("createCatcher");let name=generateId("catcher"),spec={},handlers=[];for(let ev in on){let handlerId=generateId("hdlr"),idx=handlers.push(handlerId)-1;spec[ev]=idx;const handler=this.generateHandlerCode(ev,on[ev]);this.define(handlerId,handler)}return this.staticDefs.push({id:name,expr:`createCatcher(${JSON.stringify(spec)})`}),`${name}(${expr}, [${handlers.join(",")}])`}compileTSlot(ast,ctx){this.helpers.add("callSlot");let blockString,slotName,{block}=ctx,dynamic=!1,isMultiple=!1;ast.name.match(INTERP_REGEXP)?(dynamic=!0,isMultiple=!0,slotName=interpolate(ast.name)):(slotName="'"+ast.name+"'",isMultiple=isMultiple||this.slotNames.has(ast.name),this.slotNames.add(ast.name));const dynProps=ast.attrs?ast.attrs["t-props"]:null;ast.attrs&&delete ast.attrs["t-props"];let key=this.target.loopLevel?`key${this.target.loopLevel}`:"key";isMultiple&&(key=`${key} + \`${this.generateComponentKey()}\``);const props=ast.attrs?this.formatPropObject(ast.attrs):[],scope=this.getPropString(props,dynProps);if(ast.defaultContent){blockString=`callSlot(ctx, node, ${key}, ${slotName}, ${dynamic}, ${scope}, ${this.compileInNewTarget("defaultContent",ast.defaultContent,ctx)}.bind(this))`}else if(dynamic){let name=generateId("slot");this.define(name,slotName),blockString=`toggler(${name}, callSlot(ctx, node, ${key}, ${name}, ${dynamic}, ${scope}))`}else blockString=`callSlot(ctx, node, ${key}, ${slotName}, ${dynamic}, ${scope})`;return ast.on&&(blockString=this.wrapWithEventCatcher(blockString,ast.on)),block&&this.insertAnchor(block),block=this.createBlock(block,"multi",ctx),this.insertBlock(blockString,block,{...ctx,forceNewBlock:!1}),block.varName}compileTTranslation(ast,ctx){return ast.content?this.compileAST(ast.content,Object.assign({},ctx,{translate:!1})):null}compileTPortal(ast,ctx){this.staticDefs.find((d=>"Portal"===d.id))||this.staticDefs.push({id:"Portal",expr:"app.Portal"});let{block}=ctx;const name=this.compileInNewTarget("slot",ast.content,ctx),key=this.generateComponentKey();let ctxStr="ctx";!this.target.loopLevel&&this.hasSafeContext||(ctxStr=generateId("ctx"),this.helpers.add("capture"),this.define(ctxStr,"capture(ctx)"));let id=generateId("comp");this.staticDefs.push({id,expr:"app.createComponent(null, false, true, false, false)"});const blockString=`${id}({target: ${compileExpr(ast.target)},slots: {'default': {__render: ${name}.bind(this), __ctx: ${ctxStr}}}}, key + \`${key}\`, node, ctx, Portal)`;return block&&this.insertAnchor(block),block=this.createBlock(block,"multi",ctx),this.insertBlock(blockString,block,{...ctx,forceNewBlock:!1}),block.varName}}const cache=new WeakMap;function parse(xml){if("string"==typeof xml){const elem=function parseXML(xml){const doc=(new DOMParser).parseFromString(xml,"text/xml");if(doc.getElementsByTagName("parsererror").length){let msg="Invalid XML in template.";const parsererrorText=doc.getElementsByTagName("parsererror")[0].textContent;if(parsererrorText){msg+="\nThe parser has produced the following error message:\n"+parsererrorText;const re=/\d+/g,firstMatch=re.exec(parsererrorText);if(firstMatch){const lineNumber=Number(firstMatch[0]),line=xml.split("\n")[lineNumber-1],secondMatch=re.exec(parsererrorText);if(line&&secondMatch){const columnIndex=Number(secondMatch[0])-1;line[columnIndex]&&(msg+=`\nThe error might be located at xml line ${lineNumber} column ${columnIndex}\n${line}\n${"-".repeat(columnIndex-1)}^`)}}}throw new OwlError(msg)}return doc}(`<t>${xml}</t>`).firstChild;return _parse(elem)}let ast=cache.get(xml);return ast||(ast=_parse(xml.cloneNode(!0)),cache.set(xml,ast)),ast}function _parse(xml){!function normalizeXML(el){(function normalizeTIf(el){let tbranch=el.querySelectorAll("[t-elif], [t-else]");for(let i=0,ilen=tbranch.length;i<ilen;i++){let node=tbranch[i],prevElem=node.previousElementSibling,pattr=name=>prevElem.getAttribute(name),nattr=name=>+!!node.getAttribute(name);if(!prevElem||!pattr("t-if")&&!pattr("t-elif"))throw new OwlError("t-elif and t-else directives must be preceded by a t-if or t-elif directive");{if(pattr("t-foreach"))throw new OwlError("t-if cannot stay at the same level as t-foreach when using t-elif or t-else");if(["t-if","t-elif","t-else"].map(nattr).reduce((function(a,b){return a+b}))>1)throw new OwlError("Only one conditional branching directive is allowed per node");let textNode;for(;(textNode=node.previousSibling)!==prevElem;){if(textNode.nodeValue.trim().length&&8!==textNode.nodeType)throw new OwlError("text is not allowed between branching directives");textNode.remove()}}}})(el),function normalizeTEscTOut(el){for(const d of["t-esc","t-out"]){const elements=[...el.querySelectorAll(`[${d}]`)].filter((el=>el.tagName[0]===el.tagName[0].toUpperCase()||el.hasAttribute("t-component")));for(const el of elements){if(el.childNodes.length)throw new OwlError(`Cannot have ${d} on a component that already has content`);const value=el.getAttribute(d);el.removeAttribute(d);const t=el.ownerDocument.createElement("t");null!=value&&t.setAttribute(d,value),el.appendChild(t)}}}(el)}(xml);return parseNode(xml,{inPreTag:!1})||{type:0,value:""}}function parseNode(node,ctx){return node instanceof Element?function parseTDebugLog(node,ctx){if(node.hasAttribute("t-debug"))return node.removeAttribute("t-debug"),{type:12,content:parseNode(node,ctx)};if(node.hasAttribute("t-log")){const expr=node.getAttribute("t-log");return node.removeAttribute("t-log"),{type:13,expr,content:parseNode(node,ctx)}}return null}(node,ctx)||function parseTForEach(node,ctx){if(!node.hasAttribute("t-foreach"))return null;const html=node.outerHTML,collection=node.getAttribute("t-foreach");node.removeAttribute("t-foreach");const elem=node.getAttribute("t-as")||"";node.removeAttribute("t-as");const key=node.getAttribute("t-key");if(!key)throw new OwlError(`"Directive t-foreach should always be used with a t-key!" (expression: t-foreach="${collection}" t-as="${elem}")`);node.removeAttribute("t-key");const memo=node.getAttribute("t-memo")||"";node.removeAttribute("t-memo");const body=parseNode(node,ctx);if(!body)return null;const hasNoTCall=!html.includes("t-call"),hasNoFirst=hasNoTCall&&!html.includes(`${elem}_first`),hasNoLast=hasNoTCall&&!html.includes(`${elem}_last`),hasNoIndex=hasNoTCall&&!html.includes(`${elem}_index`),hasNoValue=hasNoTCall&&!html.includes(`${elem}_value`);return{type:9,collection,elem,body,memo,key,hasNoFirst,hasNoLast,hasNoIndex,hasNoValue}}(node,ctx)||function parseTIf(node,ctx){if(!node.hasAttribute("t-if"))return null;const condition=node.getAttribute("t-if");node.removeAttribute("t-if");const content=parseNode(node,ctx)||{type:0,value:""};let nextElement=node.nextElementSibling;const tElifs=[];for(;nextElement&&nextElement.hasAttribute("t-elif");){const condition=nextElement.getAttribute("t-elif");nextElement.removeAttribute("t-elif");const tElif=parseNode(nextElement,ctx),next=nextElement.nextElementSibling;nextElement.remove(),nextElement=next,tElif&&tElifs.push({condition,content:tElif})}let tElse=null;nextElement&&nextElement.hasAttribute("t-else")&&(nextElement.removeAttribute("t-else"),tElse=parseNode(nextElement,ctx),nextElement.remove());return{type:5,condition,content,tElif:tElifs.length?tElifs:null,tElse}}(node,ctx)||function parseTPortal(node,ctx){if(!node.hasAttribute("t-portal"))return null;const target=node.getAttribute("t-portal");node.removeAttribute("t-portal");const content=parseNode(node,ctx);if(!content)return{type:0,value:""};return{type:17,target,content}}(node,ctx)||function parseTCall(node,ctx){if(!node.hasAttribute("t-call"))return null;const subTemplate=node.getAttribute("t-call"),context=node.getAttribute("t-call-context");if(node.removeAttribute("t-call"),node.removeAttribute("t-call-context"),"t"!==node.tagName){const ast=parseNode(node,ctx),tcall={type:7,name:subTemplate,body:null,context};if(ast&&2===ast.type)return ast.content=[tcall],ast;if(ast&&11===ast.type)return{...ast,slots:{default:{content:tcall,scope:null,on:null,attrs:null}}}}const body=parseChildren(node,ctx);return{type:7,name:subTemplate,body:body.length?body:null,context}}(node,ctx)||function parseTCallBlock(node,ctx){if(!node.hasAttribute("t-call-block"))return null;const name=node.getAttribute("t-call-block");return{type:15,name}}(node)||function parseTEscNode(node,ctx){if(!node.hasAttribute("t-esc"))return null;const escValue=node.getAttribute("t-esc");node.removeAttribute("t-esc");const tesc={type:4,expr:escValue,defaultValue:node.textContent||""};let ref=node.getAttribute("t-ref");node.removeAttribute("t-ref");const ast=parseNode(node,ctx);if(!ast)return tesc;if(2===ast.type)return{...ast,ref,content:[tesc]};return tesc}(node,ctx)||function parseTOutNode(node,ctx){if(!node.hasAttribute("t-out")&&!node.hasAttribute("t-raw"))return null;node.hasAttribute("t-raw")&&console.warn('t-raw has been deprecated in favor of t-out. If the value to render is not wrapped by the "markup" function, it will be escaped');const expr=node.getAttribute("t-out")||node.getAttribute("t-raw");node.removeAttribute("t-out"),node.removeAttribute("t-raw");const tOut={type:8,expr,body:null},ref=node.getAttribute("t-ref");node.removeAttribute("t-ref");const ast=parseNode(node,ctx);if(!ast)return tOut;if(2===ast.type)return tOut.body=ast.content.length?ast.content:null,{...ast,ref,content:[tOut]};return tOut}(node,ctx)||function parseTKey(node,ctx){if(!node.hasAttribute("t-key"))return null;const key=node.getAttribute("t-key");node.removeAttribute("t-key");const body=parseNode(node,ctx);if(!body)return null;return{type:10,expr:key,content:body}}(node,ctx)||function parseTTranslation(node,ctx){if("off"!==node.getAttribute("t-translation"))return null;return node.removeAttribute("t-translation"),{type:16,content:parseNode(node,ctx)}}(node,ctx)||function parseTSlot(node,ctx){if(!node.hasAttribute("t-slot"))return null;const name=node.getAttribute("t-slot");node.removeAttribute("t-slot");let attrs=null,on=null;for(let attributeName of node.getAttributeNames()){const value=node.getAttribute(attributeName);attributeName.startsWith("t-on-")?(on=on||{},on[attributeName.slice(5)]=value):(attrs=attrs||{},attrs[attributeName]=value)}return{type:14,name,attrs,on,defaultContent:parseChildNodes(node,ctx)}}(node,ctx)||function parseComponent(node,ctx){let name=node.tagName;const firstLetter=name[0];let isDynamic=node.hasAttribute("t-component");if(isDynamic&&"t"!==name)throw new OwlError(`Directive 't-component' can only be used on <t> nodes (used on a <${name}>)`);if(firstLetter!==firstLetter.toUpperCase()&&!isDynamic)return null;isDynamic&&(name=node.getAttribute("t-component"),node.removeAttribute("t-component"));const dynamicProps=node.getAttribute("t-props");node.removeAttribute("t-props");const defaultSlotScope=node.getAttribute("t-slot-scope");node.removeAttribute("t-slot-scope");let on=null,props=null;for(let name of node.getAttributeNames()){const value=node.getAttribute(name);if(name.startsWith("t-")){if(!name.startsWith("t-on-")){const message=directiveErrorMap.get(name.split("-").slice(0,2).join("-"));throw new OwlError(message||`unsupported directive on Component: ${name}`)}on=on||{},on[name.slice(5)]=value}else props=props||{},props[name]=value}let slots=null;if(node.hasChildNodes()){const clone=node.cloneNode(!0),slotNodes=Array.from(clone.querySelectorAll("[t-set-slot]"));for(let slotNode of slotNodes){if("t"!==slotNode.tagName)throw new OwlError(`Directive 't-set-slot' can only be used on <t> nodes (used on a <${slotNode.tagName}>)`);const name=slotNode.getAttribute("t-set-slot");let el=slotNode.parentElement,isInSubComponent=!1;for(;el!==clone;){if(el.hasAttribute("t-component")||el.tagName[0]===el.tagName[0].toUpperCase()){isInSubComponent=!0;break}el=el.parentElement}if(isInSubComponent)continue;slotNode.removeAttribute("t-set-slot"),slotNode.remove();const slotAst=parseNode(slotNode,ctx);let on=null,attrs=null,scope=null;for(let attributeName of slotNode.getAttributeNames()){const value=slotNode.getAttribute(attributeName);"t-slot-scope"!==attributeName?attributeName.startsWith("t-on-")?(on=on||{},on[attributeName.slice(5)]=value):(attrs=attrs||{},attrs[attributeName]=value):scope=value}slots=slots||{},slots[name]={content:slotAst,on,attrs,scope}}const defaultContent=parseChildNodes(clone,ctx);slots=slots||{},defaultContent&&!slots.default&&(slots.default={content:defaultContent,on,attrs:null,scope:defaultSlotScope})}return{type:11,name,isDynamic,dynamicProps,props,slots,on}}(node,ctx)||function parseDOMNode(node,ctx){const{tagName}=node,dynamicTag=node.getAttribute("t-tag");if(node.removeAttribute("t-tag"),"t"===tagName&&!dynamicTag)return null;if(tagName.startsWith("block-"))throw new OwlError(`Invalid tag name: '${tagName}'`);ctx=Object.assign({},ctx),"pre"===tagName&&(ctx.inPreTag=!0);let ns=!ctx.nameSpace&&ROOT_SVG_TAGS.has(tagName)?"http://www.w3.org/2000/svg":null;const ref=node.getAttribute("t-ref");node.removeAttribute("t-ref");const nodeAttrsNames=node.getAttributeNames();let attrs=null,on=null,model=null;for(let attr of nodeAttrsNames){const value=node.getAttribute(attr);if("t-on"===attr||"t-on-"===attr)throw new OwlError("Missing event name with t-on directive");if(attr.startsWith("t-on-"))on=on||{},on[attr.slice(5)]=value;else if(attr.startsWith("t-model")){if(!["input","select","textarea"].includes(tagName))throw new OwlError("The t-model directive only works with <input>, <textarea> and <select>");let baseExpr,expr;if(hasDotAtTheEnd.test(value)){const index=value.lastIndexOf(".");baseExpr=value.slice(0,index),expr=`'${value.slice(index+1)}'`}else{if(!hasBracketsAtTheEnd.test(value))throw new OwlError(`Invalid t-model expression: "${value}" (it should be assignable)`);{const index=value.lastIndexOf("[");baseExpr=value.slice(0,index),expr=value.slice(index+1,-1)}}const typeAttr=node.getAttribute("type"),isInput="input"===tagName,isSelect="select"===tagName,isCheckboxInput=isInput&&"checkbox"===typeAttr,isRadioInput=isInput&&"radio"===typeAttr,hasLazyMod=attr.includes(".lazy"),hasNumberMod=attr.includes(".number");model={baseExpr,expr,targetAttr:isCheckboxInput?"checked":"value",specialInitTargetAttr:isRadioInput?"checked":null,eventType:isRadioInput?"click":isSelect||hasLazyMod?"change":"input",hasDynamicChildren:!1,shouldTrim:attr.includes(".trim"),shouldNumberize:hasNumberMod},isSelect&&((ctx=Object.assign({},ctx)).tModelInfo=model)}else{if(attr.startsWith("block-"))throw new OwlError(`Invalid attribute: '${attr}'`);if("xmlns"===attr)ns=value;else if("t-name"!==attr){if(attr.startsWith("t-")&&!attr.startsWith("t-att"))throw new OwlError(`Unknown QWeb directive: '${attr}'`);const tModel=ctx.tModelInfo;tModel&&["t-att-value","t-attf-value"].includes(attr)&&(tModel.hasDynamicChildren=!0),attrs=attrs||{},attrs[attr]=value}}}ns&&(ctx.nameSpace=ns);const children=parseChildren(node,ctx);return{type:2,tag:tagName,dynamicTag,attrs,on,ref,content:children,model,ns}}(node,ctx)||function parseTSetNode(node,ctx){if(!node.hasAttribute("t-set"))return null;const name=node.getAttribute("t-set"),value=node.getAttribute("t-value")||null,defaultValue=node.innerHTML===node.textContent&&node.textContent||null;let body=null;node.textContent!==node.innerHTML&&(body=parseChildren(node,ctx));return{type:6,name,value,defaultValue,body}}(node,ctx)||function parseTNode(node,ctx){if("t"!==node.tagName)return null;return parseChildNodes(node,ctx)}(node,ctx):function parseTextCommentNode(node,ctx){if(node.nodeType===Node.TEXT_NODE){let value=node.textContent||"";return ctx.inPreTag||!lineBreakRE.test(value)||value.trim()?{type:0,value}:null}if(node.nodeType===Node.COMMENT_NODE)return{type:1,value:node.textContent||""};return null}(node,ctx)}const lineBreakRE=/[\r\n]/;const hasDotAtTheEnd=/\.[\w_]+\s*$/,hasBracketsAtTheEnd=/\[[^\[]+\]\s*$/,ROOT_SVG_TAGS=new Set(["svg","g","path"]);const directiveErrorMap=new Map([["t-ref","t-ref is no longer supported on components. Consider exposing only the public part of the component's API through a callback prop."],["t-att","t-att makes no sense on component: props are already treated as expressions"],["t-attf","t-attf is not supported on components: use template strings for string interpolation in props"]]);function parseChildren(node,ctx){const children=[];for(let child of node.childNodes){const childAst=parseNode(child,ctx);childAst&&(3===childAst.type?children.push(...childAst.content):children.push(childAst))}return children}function parseChildNodes(node,ctx){const children=parseChildren(node,ctx);switch(children.length){case 0:return null;case 1:return children[0];default:return{type:3,content:children}}}class Scheduler{constructor(){this.tasks=new Set,this.frame=0,this.delayedRenders=[],this.cancelledNodes=new Set,this.requestAnimationFrame=Scheduler.requestAnimationFrame}addFiber(fiber){this.tasks.add(fiber.root)}scheduleDestroy(node){this.cancelledNodes.add(node),0===this.frame&&(this.frame=this.requestAnimationFrame((()=>this.processTasks())))}flush(){if(this.delayedRenders.length){let renders=this.delayedRenders;this.delayedRenders=[];for(let f of renders)f.root&&3!==f.node.status&&f.node.fiber===f&&f.render()}0===this.frame&&(this.frame=this.requestAnimationFrame((()=>this.processTasks())))}processTasks(){this.frame=0;for(let node of this.cancelledNodes)node._destroy();this.cancelledNodes.clear();for(let task of this.tasks)this.processFiber(task);for(let task of this.tasks)3===task.node.status&&this.tasks.delete(task)}processFiber(fiber){if(fiber.root!==fiber)return void this.tasks.delete(fiber);const hasError=fibersInError.has(fiber);hasError&&0!==fiber.counter?this.tasks.delete(fiber):3!==fiber.node.status?0===fiber.counter&&(hasError||fiber.complete(),this.tasks.delete(fiber)):this.tasks.delete(fiber)}}Scheduler.requestAnimationFrame=window.requestAnimationFrame.bind(window);let hasBeenLogged=!1;const apps=new Set;window.__OWL_DEVTOOLS__||(window.__OWL_DEVTOOLS__={apps,Fiber,RootFiber,toRaw,reactive});class App extends TemplateSet{constructor(Root,config={}){super(config),this.scheduler=new Scheduler,this.root=null,this.name=config.name||"",this.Root=Root,apps.add(this),config.test&&(this.dev=!0),this.warnIfNoStaticProps=config.warnIfNoStaticProps||!1,!this.dev||config.test||hasBeenLogged||(console.info(`Owl is running in 'dev' mode.\n\nThis is not suitable for production use.\nSee https://github.com/odoo/owl/blob/${window.owl?window.owl.__info__.hash:"master"}/doc/reference/app.md#configuration for more information.`),hasBeenLogged=!0);const env=config.env||{},descrs=Object.getOwnPropertyDescriptors(env);this.env=Object.freeze(Object.create(Object.getPrototypeOf(env),descrs)),this.props=config.props||{}}mount(target,options){App.validateTarget(target),this.dev&&validateProps(this.Root,this.props,{__owl__:{app:this}});const node=this.makeNode(this.Root,this.props),prom=this.mountNode(node,target,options);return this.root=node,prom}makeNode(Component,props){return new ComponentNode(Component,props,this,null,null)}mountNode(node,target,options){const promise=new Promise(((resolve,reject)=>{let isResolved=!1;node.mounted.push((()=>{resolve(node.component),isResolved=!0}));let handlers=nodeErrorHandlers.get(node);handlers||(handlers=[],nodeErrorHandlers.set(node,handlers)),handlers.unshift((e=>{throw isResolved||reject(e),e}))}));return node.mountComponent(target,options),promise}destroy(){this.root&&(this.root.destroy(),this.scheduler.processTasks()),apps.delete(this)}createComponent(name,isStatic,hasSlotsProp,hasDynamicPropList,propList){const isDynamic=!isStatic;let arePropsDifferent;const hasNoProp=0===propList.length;arePropsDifferent=hasSlotsProp?(_1,_2)=>!0:hasDynamicPropList?function(props1,props2){for(let k in props1)if(props1[k]!==props2[k])return!0;return Object.keys(props1).length!==Object.keys(props2).length}:hasNoProp?(_1,_2)=>!1:function(props1,props2){for(let p of propList)if(props1[p]!==props2[p])return!0;return!1};const updateAndRender=ComponentNode.prototype.updateAndRender,initiateRender=ComponentNode.prototype.initiateRender;return(props,key,ctx,parent,C)=>{let children=ctx.children,node=children[key];isDynamic&&node&&node.component.constructor!==C&&(node=void 0);const parentFiber=ctx.fiber;if(node)(arePropsDifferent(node.props,props)||parentFiber.deep||node.forceNextRender)&&(node.forceNextRender=!1,updateAndRender.call(node,props,parentFiber));else{if(isStatic){const components=parent.constructor.components;if(!components)throw new OwlError(`Cannot find the definition of component "${name}", missing static components key in parent`);if(!(C=components[name]))throw new OwlError(`Cannot find the definition of component "${name}"`);if(!(C.prototype instanceof Component))throw new OwlError(`"${name}" is not a Component. It must inherit from the Component class`)}node=new ComponentNode(C,props,this,ctx,key),children[key]=node,initiateRender.call(node,new Fiber(node,parentFiber))}return parentFiber.childrenMap[key]=node,node}}handleError(...args){return handleError(...args)}}async function mount(C,target,config={}){return new App(C,config).mount(target,config)}App.validateTarget=function validateTarget(target){const document=target&&target.ownerDocument;if(document){const HTMLElement=document.defaultView.HTMLElement;if(target instanceof HTMLElement||target instanceof ShadowRoot){if(!document.body.contains(target instanceof HTMLElement?target:target.host))throw new OwlError("Cannot mount a component on a detached dom node");return}}throw new OwlError("Cannot mount component: the target is not a valid DOM element")},App.apps=apps,App.version="2.2.6";function useRef(name){const refs=getCurrent().refs;return{get el(){const el=refs[name];return inOwnerDocument(el)?el:null}}}function extendEnv(currentEnv,extension){const env=Object.create(currentEnv),descrs=Object.getOwnPropertyDescriptors(extension);return Object.freeze(Object.defineProperties(env,descrs))}function useChildSubEnv(envExtension){const node=getCurrent();node.childEnv=extendEnv(node.childEnv,envExtension)}function useEffect(effect,computeDependencies=(()=>[NaN])){let cleanup,dependencies;onMounted((()=>{dependencies=computeDependencies(),cleanup=effect(...dependencies)})),function onPatched(fn){const node=getCurrent(),decorate=node.app.dev?wrapError:fn=>fn;node.patched.push(decorate(fn.bind(node.component),"onPatched"))}((()=>{const newDeps=computeDependencies();newDeps.some(((val,i)=>val!==dependencies[i]))&&(dependencies=newDeps,cleanup&&cleanup(),cleanup=effect(...dependencies))})),onWillUnmount((()=>cleanup&&cleanup()))}config.shouldNormalizeDom=!1,config.mainEventHandler=(data,ev,currentTarget)=>{const{data:_data,modifiers}=filterOutModifiersFromData(data);data=_data;let stopped=!1;if(modifiers.length){let selfMode=!1;const isSelf=ev.target===currentTarget;for(const mod of modifiers)switch(mod){case"self":if(selfMode=!0,isSelf)continue;return stopped;case"prevent":(selfMode&&isSelf||!selfMode)&&ev.preventDefault();continue;case"stop":(selfMode&&isSelf||!selfMode)&&ev.stopPropagation(),stopped=!0;continue}}if(Object.hasOwnProperty.call(data,0)){const handler=data[0];if("function"!=typeof handler)throw new OwlError(`Invalid handler (expected a function, received: '${handler}')`);let node=data[1]?data[1].__owl__:null;node&&1!==node.status||handler.call(node?node.component:null,ev)}return stopped};const __info__={version:App.version};TemplateSet.prototype._compileTemplate=function _compileTemplate(name,template){return function compile(template,options={}){const ast=parse(template),hasSafeContext=template instanceof Node?!(template instanceof Element)||null===template.querySelector("[t-set], [t-call]"):!template.includes("t-set")&&!template.includes("t-call"),code=new CodeGenerator(ast,{...options,hasSafeContext}).generateCode();try{return new Function("app, bdom, helpers",code)}catch(originalError){const{name}=options,err=new OwlError(`Failed to compile ${name?`template "${name}"`:"anonymous template"}: ${originalError.message}\n\ngenerated code:\nfunction(app, bdom, helpers) {\n${code}\n}`);throw err.cause=originalError,err}}(template,{name,dev:this.dev,translateFn:this.translateFn,translatableAttributes:this.translatableAttributes})},__info__.date="2023-09-25T11:48:01.531Z",__info__.hash="752160f",__info__.url="https://github.com/odoo/owl"},"./node_modules/bignumber.js/bignumber.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE=1e14,LOG_BASE=14,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],MAX=1e9;function bitFloor(n){var i=0|n;return n>0||n===i?i:i-1}function coeffToString(a){for(var s,z,i=1,j=a.length,r=a[0]+"";i<j;){for(s=a[i++]+"",z=LOG_BASE-s.length;z--;s="0"+s);r+=s}for(j=r.length;48===r.charCodeAt(--j););return r.slice(0,j+1||1)}function compare(x,y){var a,b,xc=x.c,yc=y.c,i=x.s,j=y.s,k=x.e,l=y.e;if(!i||!j)return null;if(a=xc&&!xc[0],b=yc&&!yc[0],a||b)return a?b?0:-j:i;if(i!=j)return i;if(a=i<0,b=k==l,!xc||!yc)return b?0:!xc^a?1:-1;if(!b)return k>l^a?1:-1;for(j=(k=xc.length)<(l=yc.length)?k:l,i=0;i<j;i++)if(xc[i]!=yc[i])return xc[i]>yc[i]^a?1:-1;return k==l?0:k>l^a?1:-1}function intCheck(n,min,max,name){if(n<min||n>max||n!==mathfloor(n))throw Error(bignumberError+(name||"Argument")+("number"==typeof n?n<min||n>max?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function isOdd(n){var k=n.c.length-1;return bitFloor(n.e/LOG_BASE)==k&&n.c[k]%2!=0}function toExponential(str,e){return(str.length>1?str.charAt(0)+"."+str.slice(1):str)+(e<0?"e":"e+")+e}function toFixedPoint(str,e,z){var len,zs;if(e<0){for(zs=z+".";++e;zs+=z);str=zs+str}else if(++e>(len=str.length)){for(zs=z,e-=len;--e;zs+=z);str+=zs}else e<len&&(str=str.slice(0,e)+"."+str.slice(e));return str}var BigNumber=function clone(configObject){var div,convertBase,parseNumeric,random53bitInt,basePrefix,dotAfter,dotBefore,isInfinityOrNaN,whitespaceOrPlus,P=BigNumber.prototype={constructor:BigNumber,toString:null,valueOf:null},ONE=new BigNumber(1),DECIMAL_PLACES=20,ROUNDING_MODE=4,TO_EXP_NEG=-7,TO_EXP_POS=21,MIN_EXP=-1e7,MAX_EXP=1e7,CRYPTO=!1,MODULO_MODE=1,POW_PRECISION=0,FORMAT={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},ALPHABET="0123456789abcdefghijklmnopqrstuvwxyz",alphabetHasNormalDecimalDigits=!0;function BigNumber(v,b){var alphabet,c,caseChanged,e,i,isNum,len,str,x=this;if(!(x instanceof BigNumber))return new BigNumber(v,b);if(null==b){if(v&&!0===v._isBigNumber)return x.s=v.s,void(!v.c||v.e>MAX_EXP?x.c=x.e=null:v.e<MIN_EXP?x.c=[x.e=0]:(x.e=v.e,x.c=v.c.slice()));if((isNum="number"==typeof v)&&0*v==0){if(x.s=1/v<0?(v=-v,-1):1,v===~~v){for(e=0,i=v;i>=10;i/=10,e++);return void(e>MAX_EXP?x.c=x.e=null:(x.e=e,x.c=[v]))}str=String(v)}else{if(!isNumeric.test(str=String(v)))return parseNumeric(x,str,isNum);x.s=45==str.charCodeAt(0)?(str=str.slice(1),-1):1}(e=str.indexOf("."))>-1&&(str=str.replace(".","")),(i=str.search(/e/i))>0?(e<0&&(e=i),e+=+str.slice(i+1),str=str.substring(0,i)):e<0&&(e=str.length)}else{if(intCheck(b,2,ALPHABET.length,"Base"),10==b&&alphabetHasNormalDecimalDigits)return round(x=new BigNumber(v),DECIMAL_PLACES+x.e+1,ROUNDING_MODE);if(str=String(v),isNum="number"==typeof v){if(0*v!=0)return parseNumeric(x,str,isNum,b);if(x.s=1/v<0?(str=str.slice(1),-1):1,BigNumber.DEBUG&&str.replace(/^0\.0*|\./,"").length>15)throw Error(tooManyDigits+v)}else x.s=45===str.charCodeAt(0)?(str=str.slice(1),-1):1;for(alphabet=ALPHABET.slice(0,b),e=i=0,len=str.length;i<len;i++)if(alphabet.indexOf(c=str.charAt(i))<0){if("."==c){if(i>e){e=len;continue}}else if(!caseChanged&&(str==str.toUpperCase()&&(str=str.toLowerCase())||str==str.toLowerCase()&&(str=str.toUpperCase()))){caseChanged=!0,i=-1,e=0;continue}return parseNumeric(x,String(v),isNum,b)}isNum=!1,(e=(str=convertBase(str,b,10,x.s)).indexOf("."))>-1?str=str.replace(".",""):e=str.length}for(i=0;48===str.charCodeAt(i);i++);for(len=str.length;48===str.charCodeAt(--len););if(str=str.slice(i,++len)){if(len-=i,isNum&&BigNumber.DEBUG&&len>15&&(v>9007199254740991||v!==mathfloor(v)))throw Error(tooManyDigits+x.s*v);if((e=e-i-1)>MAX_EXP)x.c=x.e=null;else if(e<MIN_EXP)x.c=[x.e=0];else{if(x.e=e,x.c=[],i=(e+1)%LOG_BASE,e<0&&(i+=LOG_BASE),i<len){for(i&&x.c.push(+str.slice(0,i)),len-=LOG_BASE;i<len;)x.c.push(+str.slice(i,i+=LOG_BASE));i=LOG_BASE-(str=str.slice(i)).length}else i-=len;for(;i--;str+="0");x.c.push(+str)}}else x.c=[x.e=0]}function format(n,i,rm,id){var c0,e,ne,len,str;if(null==rm?rm=ROUNDING_MODE:intCheck(rm,0,8),!n.c)return n.toString();if(c0=n.c[0],ne=n.e,null==i)str=coeffToString(n.c),str=1==id||2==id&&(ne<=TO_EXP_NEG||ne>=TO_EXP_POS)?toExponential(str,ne):toFixedPoint(str,ne,"0");else if(e=(n=round(new BigNumber(n),i,rm)).e,len=(str=coeffToString(n.c)).length,1==id||2==id&&(i<=e||e<=TO_EXP_NEG)){for(;len<i;str+="0",len++);str=toExponential(str,e)}else if(i-=ne,str=toFixedPoint(str,e,"0"),e+1>len){if(--i>0)for(str+=".";i--;str+="0");}else if((i+=e-len)>0)for(e+1==len&&(str+=".");i--;str+="0");return n.s<0&&c0?"-"+str:str}function maxOrMin(args,n){for(var k,y,i=1,x=new BigNumber(args[0]);i<args.length;i++)(!(y=new BigNumber(args[i])).s||(k=compare(x,y))===n||0===k&&x.s===n)&&(x=y);return x}function normalise(n,c,e){for(var i=1,j=c.length;!c[--j];c.pop());for(j=c[0];j>=10;j/=10,i++);return(e=i+e*LOG_BASE-1)>MAX_EXP?n.c=n.e=null:e<MIN_EXP?n.c=[n.e=0]:(n.e=e,n.c=c),n}function round(x,sd,rm,r){var d,i,j,k,n,ni,rd,xc=x.c,pows10=POWS_TEN;if(xc){out:{for(d=1,k=xc[0];k>=10;k/=10,d++);if((i=sd-d)<0)i+=LOG_BASE,j=sd,n=xc[ni=0],rd=mathfloor(n/pows10[d-j-1]%10);else if((ni=mathceil((i+1)/LOG_BASE))>=xc.length){if(!r)break out;for(;xc.length<=ni;xc.push(0));n=rd=0,d=1,j=(i%=LOG_BASE)-LOG_BASE+1}else{for(n=k=xc[ni],d=1;k>=10;k/=10,d++);rd=(j=(i%=LOG_BASE)-LOG_BASE+d)<0?0:mathfloor(n/pows10[d-j-1]%10)}if(r=r||sd<0||null!=xc[ni+1]||(j<0?n:n%pows10[d-j-1]),r=rm<4?(rd||r)&&(0==rm||rm==(x.s<0?3:2)):rd>5||5==rd&&(4==rm||r||6==rm&&(i>0?j>0?n/pows10[d-j]:0:xc[ni-1])%10&1||rm==(x.s<0?8:7)),sd<1||!xc[0])return xc.length=0,r?(sd-=x.e+1,xc[0]=pows10[(LOG_BASE-sd%LOG_BASE)%LOG_BASE],x.e=-sd||0):xc[0]=x.e=0,x;if(0==i?(xc.length=ni,k=1,ni--):(xc.length=ni+1,k=pows10[LOG_BASE-i],xc[ni]=j>0?mathfloor(n/pows10[d-j]%pows10[j])*k:0),r)for(;;){if(0==ni){for(i=1,j=xc[0];j>=10;j/=10,i++);for(j=xc[0]+=k,k=1;j>=10;j/=10,k++);i!=k&&(x.e++,xc[0]==BASE&&(xc[0]=1));break}if(xc[ni]+=k,xc[ni]!=BASE)break;xc[ni--]=0,k=1}for(i=xc.length;0===xc[--i];xc.pop());}x.e>MAX_EXP?x.c=x.e=null:x.e<MIN_EXP&&(x.c=[x.e=0])}return x}function valueOf(n){var str,e=n.e;return null===e?n.toString():(str=coeffToString(n.c),str=e<=TO_EXP_NEG||e>=TO_EXP_POS?toExponential(str,e):toFixedPoint(str,e,"0"),n.s<0?"-"+str:str)}return BigNumber.clone=clone,BigNumber.ROUND_UP=0,BigNumber.ROUND_DOWN=1,BigNumber.ROUND_CEIL=2,BigNumber.ROUND_FLOOR=3,BigNumber.ROUND_HALF_UP=4,BigNumber.ROUND_HALF_DOWN=5,BigNumber.ROUND_HALF_EVEN=6,BigNumber.ROUND_HALF_CEIL=7,BigNumber.ROUND_HALF_FLOOR=8,BigNumber.EUCLID=9,BigNumber.config=BigNumber.set=function(obj){var p,v;if(null!=obj){if("object"!=typeof obj)throw Error(bignumberError+"Object expected: "+obj);if(obj.hasOwnProperty(p="DECIMAL_PLACES")&&(intCheck(v=obj[p],0,MAX,p),DECIMAL_PLACES=v),obj.hasOwnProperty(p="ROUNDING_MODE")&&(intCheck(v=obj[p],0,8,p),ROUNDING_MODE=v),obj.hasOwnProperty(p="EXPONENTIAL_AT")&&((v=obj[p])&&v.pop?(intCheck(v[0],-MAX,0,p),intCheck(v[1],0,MAX,p),TO_EXP_NEG=v[0],TO_EXP_POS=v[1]):(intCheck(v,-MAX,MAX,p),TO_EXP_NEG=-(TO_EXP_POS=v<0?-v:v))),obj.hasOwnProperty(p="RANGE"))if((v=obj[p])&&v.pop)intCheck(v[0],-MAX,-1,p),intCheck(v[1],1,MAX,p),MIN_EXP=v[0],MAX_EXP=v[1];else{if(intCheck(v,-MAX,MAX,p),!v)throw Error(bignumberError+p+" cannot be zero: "+v);MIN_EXP=-(MAX_EXP=v<0?-v:v)}if(obj.hasOwnProperty(p="CRYPTO")){if((v=obj[p])!==!!v)throw Error(bignumberError+p+" not true or false: "+v);if(v){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw CRYPTO=!v,Error(bignumberError+"crypto unavailable");CRYPTO=v}else CRYPTO=v}if(obj.hasOwnProperty(p="MODULO_MODE")&&(intCheck(v=obj[p],0,9,p),MODULO_MODE=v),obj.hasOwnProperty(p="POW_PRECISION")&&(intCheck(v=obj[p],0,MAX,p),POW_PRECISION=v),obj.hasOwnProperty(p="FORMAT")){if("object"!=typeof(v=obj[p]))throw Error(bignumberError+p+" not an object: "+v);FORMAT=v}if(obj.hasOwnProperty(p="ALPHABET")){if("string"!=typeof(v=obj[p])||/^.?$|[+\-.\s]|(.).*\1/.test(v))throw Error(bignumberError+p+" invalid: "+v);alphabetHasNormalDecimalDigits="0123456789"==v.slice(0,10),ALPHABET=v}}return{DECIMAL_PLACES,ROUNDING_MODE,EXPONENTIAL_AT:[TO_EXP_NEG,TO_EXP_POS],RANGE:[MIN_EXP,MAX_EXP],CRYPTO,MODULO_MODE,POW_PRECISION,FORMAT,ALPHABET}},BigNumber.isBigNumber=function(v){if(!v||!0!==v._isBigNumber)return!1;if(!BigNumber.DEBUG)return!0;var i,n,c=v.c,e=v.e,s=v.s;out:if("[object Array]"=={}.toString.call(c)){if((1===s||-1===s)&&e>=-MAX&&e<=MAX&&e===mathfloor(e)){if(0===c[0]){if(0===e&&1===c.length)return!0;break out}if((i=(e+1)%LOG_BASE)<1&&(i+=LOG_BASE),String(c[0]).length==i){for(i=0;i<c.length;i++)if((n=c[i])<0||n>=BASE||n!==mathfloor(n))break out;if(0!==n)return!0}}}else if(null===c&&null===e&&(null===s||1===s||-1===s))return!0;throw Error(bignumberError+"Invalid BigNumber: "+v)},BigNumber.maximum=BigNumber.max=function(){return maxOrMin(arguments,-1)},BigNumber.minimum=BigNumber.min=function(){return maxOrMin(arguments,1)},BigNumber.random=(random53bitInt=9007199254740992*Math.random()&2097151?function(){return mathfloor(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(dp){var a,b,e,k,v,i=0,c=[],rand=new BigNumber(ONE);if(null==dp?dp=DECIMAL_PLACES:intCheck(dp,0,MAX),k=mathceil(dp/LOG_BASE),CRYPTO)if(crypto.getRandomValues){for(a=crypto.getRandomValues(new Uint32Array(k*=2));i<k;)(v=131072*a[i]+(a[i+1]>>>11))>=9e15?(b=crypto.getRandomValues(new Uint32Array(2)),a[i]=b[0],a[i+1]=b[1]):(c.push(v%1e14),i+=2);i=k/2}else{if(!crypto.randomBytes)throw CRYPTO=!1,Error(bignumberError+"crypto unavailable");for(a=crypto.randomBytes(k*=7);i<k;)(v=281474976710656*(31&a[i])+1099511627776*a[i+1]+4294967296*a[i+2]+16777216*a[i+3]+(a[i+4]<<16)+(a[i+5]<<8)+a[i+6])>=9e15?crypto.randomBytes(7).copy(a,i):(c.push(v%1e14),i+=7);i=k/7}if(!CRYPTO)for(;i<k;)(v=random53bitInt())<9e15&&(c[i++]=v%1e14);for(k=c[--i],dp%=LOG_BASE,k&&dp&&(v=POWS_TEN[LOG_BASE-dp],c[i]=mathfloor(k/v)*v);0===c[i];c.pop(),i--);if(i<0)c=[e=0];else{for(e=-1;0===c[0];c.splice(0,1),e-=LOG_BASE);for(i=1,v=c[0];v>=10;v/=10,i++);i<LOG_BASE&&(e-=LOG_BASE-i)}return rand.e=e,rand.c=c,rand}),BigNumber.sum=function(){for(var i=1,args=arguments,sum=new BigNumber(args[0]);i<args.length;)sum=sum.plus(args[i++]);return sum},convertBase=function(){function toBaseOut(str,baseIn,baseOut,alphabet){for(var j,arrL,arr=[0],i=0,len=str.length;i<len;){for(arrL=arr.length;arrL--;arr[arrL]*=baseIn);for(arr[0]+=alphabet.indexOf(str.charAt(i++)),j=0;j<arr.length;j++)arr[j]>baseOut-1&&(null==arr[j+1]&&(arr[j+1]=0),arr[j+1]+=arr[j]/baseOut|0,arr[j]%=baseOut)}return arr.reverse()}return function(str,baseIn,baseOut,sign,callerIsToString){var alphabet,d,e,k,r,x,xc,y,i=str.indexOf("."),dp=DECIMAL_PLACES,rm=ROUNDING_MODE;for(i>=0&&(k=POW_PRECISION,POW_PRECISION=0,str=str.replace(".",""),x=(y=new BigNumber(baseIn)).pow(str.length-i),POW_PRECISION=k,y.c=toBaseOut(toFixedPoint(coeffToString(x.c),x.e,"0"),10,baseOut,"0123456789"),y.e=y.c.length),e=k=(xc=toBaseOut(str,baseIn,baseOut,callerIsToString?(alphabet=ALPHABET,"0123456789"):(alphabet="0123456789",ALPHABET))).length;0==xc[--k];xc.pop());if(!xc[0])return alphabet.charAt(0);if(i<0?--e:(x.c=xc,x.e=e,x.s=sign,xc=(x=div(x,y,dp,rm,baseOut)).c,r=x.r,e=x.e),i=xc[d=e+dp+1],k=baseOut/2,r=r||d<0||null!=xc[d+1],r=rm<4?(null!=i||r)&&(0==rm||rm==(x.s<0?3:2)):i>k||i==k&&(4==rm||r||6==rm&&1&xc[d-1]||rm==(x.s<0?8:7)),d<1||!xc[0])str=r?toFixedPoint(alphabet.charAt(1),-dp,alphabet.charAt(0)):alphabet.charAt(0);else{if(xc.length=d,r)for(--baseOut;++xc[--d]>baseOut;)xc[d]=0,d||(++e,xc=[1].concat(xc));for(k=xc.length;!xc[--k];);for(i=0,str="";i<=k;str+=alphabet.charAt(xc[i++]));str=toFixedPoint(str,e,alphabet.charAt(0))}return str}}(),div=function(){function multiply(x,k,base){var m,temp,xlo,xhi,carry=0,i=x.length,klo=k%1e7,khi=k/1e7|0;for(x=x.slice();i--;)carry=((temp=klo*(xlo=x[i]%1e7)+(m=khi*xlo+(xhi=x[i]/1e7|0)*klo)%1e7*1e7+carry)/base|0)+(m/1e7|0)+khi*xhi,x[i]=temp%base;return carry&&(x=[carry].concat(x)),x}function compare(a,b,aL,bL){var i,cmp;if(aL!=bL)cmp=aL>bL?1:-1;else for(i=cmp=0;i<aL;i++)if(a[i]!=b[i]){cmp=a[i]>b[i]?1:-1;break}return cmp}function subtract(a,b,aL,base){for(var i=0;aL--;)a[aL]-=i,i=a[aL]<b[aL]?1:0,a[aL]=i*base+a[aL]-b[aL];for(;!a[0]&&a.length>1;a.splice(0,1));}return function(x,y,dp,rm,base){var cmp,e,i,more,n,prod,prodL,q,qc,rem,remL,rem0,xi,xL,yc0,yL,yz,s=x.s==y.s?1:-1,xc=x.c,yc=y.c;if(!(xc&&xc[0]&&yc&&yc[0]))return new BigNumber(x.s&&y.s&&(xc?!yc||xc[0]!=yc[0]:yc)?xc&&0==xc[0]||!yc?0*s:s/0:NaN);for(qc=(q=new BigNumber(s)).c=[],s=dp+(e=x.e-y.e)+1,base||(base=BASE,e=bitFloor(x.e/LOG_BASE)-bitFloor(y.e/LOG_BASE),s=s/LOG_BASE|0),i=0;yc[i]==(xc[i]||0);i++);if(yc[i]>(xc[i]||0)&&e--,s<0)qc.push(1),more=!0;else{for(xL=xc.length,yL=yc.length,i=0,s+=2,(n=mathfloor(base/(yc[0]+1)))>1&&(yc=multiply(yc,n,base),xc=multiply(xc,n,base),yL=yc.length,xL=xc.length),xi=yL,remL=(rem=xc.slice(0,yL)).length;remL<yL;rem[remL++]=0);yz=yc.slice(),yz=[0].concat(yz),yc0=yc[0],yc[1]>=base/2&&yc0++;do{if(n=0,(cmp=compare(yc,rem,yL,remL))<0){if(rem0=rem[0],yL!=remL&&(rem0=rem0*base+(rem[1]||0)),(n=mathfloor(rem0/yc0))>1)for(n>=base&&(n=base-1),prodL=(prod=multiply(yc,n,base)).length,remL=rem.length;1==compare(prod,rem,prodL,remL);)n--,subtract(prod,yL<prodL?yz:yc,prodL,base),prodL=prod.length,cmp=1;else 0==n&&(cmp=n=1),prodL=(prod=yc.slice()).length;if(prodL<remL&&(prod=[0].concat(prod)),subtract(rem,prod,remL,base),remL=rem.length,-1==cmp)for(;compare(yc,rem,yL,remL)<1;)n++,subtract(rem,yL<remL?yz:yc,remL,base),remL=rem.length}else 0===cmp&&(n++,rem=[0]);qc[i++]=n,rem[0]?rem[remL++]=xc[xi]||0:(rem=[xc[xi]],remL=1)}while((xi++<xL||null!=rem[0])&&s--);more=null!=rem[0],qc[0]||qc.splice(0,1)}if(base==BASE){for(i=1,s=qc[0];s>=10;s/=10,i++);round(q,dp+(q.e=i+e*LOG_BASE-1)+1,rm,more)}else q.e=e,q.r=+more;return q}}(),basePrefix=/^(-?)0([xbo])(?=\w[\w.]*$)/i,dotAfter=/^([^.]+)\.$/,dotBefore=/^\.([^.]+)$/,isInfinityOrNaN=/^-?(Infinity|NaN)$/,whitespaceOrPlus=/^\s*\+(?=[\w.])|^\s+|\s+$/g,parseNumeric=function(x,str,isNum,b){var base,s=isNum?str:str.replace(whitespaceOrPlus,"");if(isInfinityOrNaN.test(s))x.s=isNaN(s)?null:s<0?-1:1;else{if(!isNum&&(s=s.replace(basePrefix,(function(m,p1,p2){return base="x"==(p2=p2.toLowerCase())?16:"b"==p2?2:8,b&&b!=base?m:p1})),b&&(base=b,s=s.replace(dotAfter,"$1").replace(dotBefore,"0.$1")),str!=s))return new BigNumber(s,base);if(BigNumber.DEBUG)throw Error(bignumberError+"Not a"+(b?" base "+b:"")+" number: "+str);x.s=null}x.c=x.e=null},P.absoluteValue=P.abs=function(){var x=new BigNumber(this);return x.s<0&&(x.s=1),x},P.comparedTo=function(y,b){return compare(this,new BigNumber(y,b))},P.decimalPlaces=P.dp=function(dp,rm){var c,n,v,x=this;if(null!=dp)return intCheck(dp,0,MAX),null==rm?rm=ROUNDING_MODE:intCheck(rm,0,8),round(new BigNumber(x),dp+x.e+1,rm);if(!(c=x.c))return null;if(n=((v=c.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,v=c[v])for(;v%10==0;v/=10,n--);return n<0&&(n=0),n},P.dividedBy=P.div=function(y,b){return div(this,new BigNumber(y,b),DECIMAL_PLACES,ROUNDING_MODE)},P.dividedToIntegerBy=P.idiv=function(y,b){return div(this,new BigNumber(y,b),0,1)},P.exponentiatedBy=P.pow=function(n,m){var half,isModExp,i,k,nIsBig,nIsNeg,nIsOdd,y,x=this;if((n=new BigNumber(n)).c&&!n.isInteger())throw Error(bignumberError+"Exponent not an integer: "+valueOf(n));if(null!=m&&(m=new BigNumber(m)),nIsBig=n.e>14,!x.c||!x.c[0]||1==x.c[0]&&!x.e&&1==x.c.length||!n.c||!n.c[0])return y=new BigNumber(Math.pow(+valueOf(x),nIsBig?n.s*(2-isOdd(n)):+valueOf(n))),m?y.mod(m):y;if(nIsNeg=n.s<0,m){if(m.c?!m.c[0]:!m.s)return new BigNumber(NaN);(isModExp=!nIsNeg&&x.isInteger()&&m.isInteger())&&(x=x.mod(m))}else{if(n.e>9&&(x.e>0||x.e<-1||(0==x.e?x.c[0]>1||nIsBig&&x.c[1]>=24e7:x.c[0]<8e13||nIsBig&&x.c[0]<=9999975e7)))return k=x.s<0&&isOdd(n)?-0:0,x.e>-1&&(k=1/k),new BigNumber(nIsNeg?1/k:k);POW_PRECISION&&(k=mathceil(POW_PRECISION/LOG_BASE+2))}for(nIsBig?(half=new BigNumber(.5),nIsNeg&&(n.s=1),nIsOdd=isOdd(n)):nIsOdd=(i=Math.abs(+valueOf(n)))%2,y=new BigNumber(ONE);;){if(nIsOdd){if(!(y=y.times(x)).c)break;k?y.c.length>k&&(y.c.length=k):isModExp&&(y=y.mod(m))}if(i){if(0===(i=mathfloor(i/2)))break;nIsOdd=i%2}else if(round(n=n.times(half),n.e+1,1),n.e>14)nIsOdd=isOdd(n);else{if(0===(i=+valueOf(n)))break;nIsOdd=i%2}x=x.times(x),k?x.c&&x.c.length>k&&(x.c.length=k):isModExp&&(x=x.mod(m))}return isModExp?y:(nIsNeg&&(y=ONE.div(y)),m?y.mod(m):k?round(y,POW_PRECISION,ROUNDING_MODE,undefined):y)},P.integerValue=function(rm){var n=new BigNumber(this);return null==rm?rm=ROUNDING_MODE:intCheck(rm,0,8),round(n,n.e+1,rm)},P.isEqualTo=P.eq=function(y,b){return 0===compare(this,new BigNumber(y,b))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(y,b){return compare(this,new BigNumber(y,b))>0},P.isGreaterThanOrEqualTo=P.gte=function(y,b){return 1===(b=compare(this,new BigNumber(y,b)))||0===b},P.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},P.isLessThan=P.lt=function(y,b){return compare(this,new BigNumber(y,b))<0},P.isLessThanOrEqualTo=P.lte=function(y,b){return-1===(b=compare(this,new BigNumber(y,b)))||0===b},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(y,b){var i,j,t,xLTy,x=this,a=x.s;if(b=(y=new BigNumber(y,b)).s,!a||!b)return new BigNumber(NaN);if(a!=b)return y.s=-b,x.plus(y);var xe=x.e/LOG_BASE,ye=y.e/LOG_BASE,xc=x.c,yc=y.c;if(!xe||!ye){if(!xc||!yc)return xc?(y.s=-b,y):new BigNumber(yc?x:NaN);if(!xc[0]||!yc[0])return yc[0]?(y.s=-b,y):new BigNumber(xc[0]?x:3==ROUNDING_MODE?-0:0)}if(xe=bitFloor(xe),ye=bitFloor(ye),xc=xc.slice(),a=xe-ye){for((xLTy=a<0)?(a=-a,t=xc):(ye=xe,t=yc),t.reverse(),b=a;b--;t.push(0));t.reverse()}else for(j=(xLTy=(a=xc.length)<(b=yc.length))?a:b,a=b=0;b<j;b++)if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break}if(xLTy&&(t=xc,xc=yc,yc=t,y.s=-y.s),(b=(j=yc.length)-(i=xc.length))>0)for(;b--;xc[i++]=0);for(b=BASE-1;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=b);--xc[i],xc[j]+=BASE}xc[j]-=yc[j]}for(;0==xc[0];xc.splice(0,1),--ye);return xc[0]?normalise(y,xc,ye):(y.s=3==ROUNDING_MODE?-1:1,y.c=[y.e=0],y)},P.modulo=P.mod=function(y,b){var q,s,x=this;return y=new BigNumber(y,b),!x.c||!y.s||y.c&&!y.c[0]?new BigNumber(NaN):!y.c||x.c&&!x.c[0]?new BigNumber(x):(9==MODULO_MODE?(s=y.s,y.s=1,q=div(x,y,0,3),y.s=s,q.s*=s):q=div(x,y,0,MODULO_MODE),(y=x.minus(q.times(y))).c[0]||1!=MODULO_MODE||(y.s=x.s),y)},P.multipliedBy=P.times=function(y,b){var c,e,i,j,k,m,xcL,xlo,xhi,ycL,ylo,yhi,zc,base,x=this,xc=x.c,yc=(y=new BigNumber(y,b)).c;if(!(xc&&yc&&xc[0]&&yc[0]))return!x.s||!y.s||xc&&!xc[0]&&!yc||yc&&!yc[0]&&!xc?y.c=y.e=y.s=null:(y.s*=x.s,xc&&yc?(y.c=[0],y.e=0):y.c=y.e=null),y;for(e=bitFloor(x.e/LOG_BASE)+bitFloor(y.e/LOG_BASE),y.s*=x.s,(xcL=xc.length)<(ycL=yc.length)&&(zc=xc,xc=yc,yc=zc,i=xcL,xcL=ycL,ycL=i),i=xcL+ycL,zc=[];i--;zc.push(0));for(base=BASE,1e7,i=ycL;--i>=0;){for(c=0,ylo=yc[i]%1e7,yhi=yc[i]/1e7|0,j=i+(k=xcL);j>i;)c=((xlo=ylo*(xlo=xc[--k]%1e7)+(m=yhi*xlo+(xhi=xc[k]/1e7|0)*ylo)%1e7*1e7+zc[j]+c)/base|0)+(m/1e7|0)+yhi*xhi,zc[j--]=xlo%base;zc[j]=c}return c?++e:zc.splice(0,1),normalise(y,zc,e)},P.negated=function(){var x=new BigNumber(this);return x.s=-x.s||null,x},P.plus=function(y,b){var t,x=this,a=x.s;if(b=(y=new BigNumber(y,b)).s,!a||!b)return new BigNumber(NaN);if(a!=b)return y.s=-b,x.minus(y);var xe=x.e/LOG_BASE,ye=y.e/LOG_BASE,xc=x.c,yc=y.c;if(!xe||!ye){if(!xc||!yc)return new BigNumber(a/0);if(!xc[0]||!yc[0])return yc[0]?y:new BigNumber(xc[0]?x:0*a)}if(xe=bitFloor(xe),ye=bitFloor(ye),xc=xc.slice(),a=xe-ye){for(a>0?(ye=xe,t=yc):(a=-a,t=xc),t.reverse();a--;t.push(0));t.reverse()}for((a=xc.length)-(b=yc.length)<0&&(t=yc,yc=xc,xc=t,b=a),a=0;b;)a=(xc[--b]=xc[b]+yc[b]+a)/BASE|0,xc[b]=BASE===xc[b]?0:xc[b]%BASE;return a&&(xc=[a].concat(xc),++ye),normalise(y,xc,ye)},P.precision=P.sd=function(sd,rm){var c,n,v,x=this;if(null!=sd&&sd!==!!sd)return intCheck(sd,1,MAX),null==rm?rm=ROUNDING_MODE:intCheck(rm,0,8),round(new BigNumber(x),sd,rm);if(!(c=x.c))return null;if(n=(v=c.length-1)*LOG_BASE+1,v=c[v]){for(;v%10==0;v/=10,n--);for(v=c[0];v>=10;v/=10,n++);}return sd&&x.e+1>n&&(n=x.e+1),n},P.shiftedBy=function(k){return intCheck(k,-9007199254740991,9007199254740991),this.times("1e"+k)},P.squareRoot=P.sqrt=function(){var m,n,r,rep,t,x=this,c=x.c,s=x.s,e=x.e,dp=DECIMAL_PLACES+4,half=new BigNumber("0.5");if(1!==s||!c||!c[0])return new BigNumber(!s||s<0&&(!c||c[0])?NaN:c?x:1/0);if(0==(s=Math.sqrt(+valueOf(x)))||s==1/0?(((n=coeffToString(c)).length+e)%2==0&&(n+="0"),s=Math.sqrt(+n),e=bitFloor((e+1)/2)-(e<0||e%2),r=new BigNumber(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)):r=new BigNumber(s+""),r.c[0])for((s=(e=r.e)+dp)<3&&(s=0);;)if(t=r,r=half.times(t.plus(div(x,t,dp,1))),coeffToString(t.c).slice(0,s)===(n=coeffToString(r.c)).slice(0,s)){if(r.e<e&&--s,"9999"!=(n=n.slice(s-3,s+1))&&(rep||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(round(r,r.e+DECIMAL_PLACES+2,1),m=!r.times(r).eq(x));break}if(!rep&&(round(t,t.e+DECIMAL_PLACES+2,0),t.times(t).eq(x))){r=t;break}dp+=4,s+=4,rep=1}return round(r,r.e+DECIMAL_PLACES+1,ROUNDING_MODE,m)},P.toExponential=function(dp,rm){return null!=dp&&(intCheck(dp,0,MAX),dp++),format(this,dp,rm,1)},P.toFixed=function(dp,rm){return null!=dp&&(intCheck(dp,0,MAX),dp=dp+this.e+1),format(this,dp,rm)},P.toFormat=function(dp,rm,format){var str,x=this;if(null==format)null!=dp&&rm&&"object"==typeof rm?(format=rm,rm=null):dp&&"object"==typeof dp?(format=dp,dp=rm=null):format=FORMAT;else if("object"!=typeof format)throw Error(bignumberError+"Argument not an object: "+format);if(str=x.toFixed(dp,rm),x.c){var i,arr=str.split("."),g1=+format.groupSize,g2=+format.secondaryGroupSize,groupSeparator=format.groupSeparator||"",intPart=arr[0],fractionPart=arr[1],isNeg=x.s<0,intDigits=isNeg?intPart.slice(1):intPart,len=intDigits.length;if(g2&&(i=g1,g1=g2,g2=i,len-=i),g1>0&&len>0){for(i=len%g1||g1,intPart=intDigits.substr(0,i);i<len;i+=g1)intPart+=groupSeparator+intDigits.substr(i,g1);g2>0&&(intPart+=groupSeparator+intDigits.slice(i)),isNeg&&(intPart="-"+intPart)}str=fractionPart?intPart+(format.decimalSeparator||"")+((g2=+format.fractionGroupSize)?fractionPart.replace(new RegExp("\\d{"+g2+"}\\B","g"),"$&"+(format.fractionGroupSeparator||"")):fractionPart):intPart}return(format.prefix||"")+str+(format.suffix||"")},P.toFraction=function(md){var d,d0,d1,d2,e,exp,n,n0,n1,q,r,s,x=this,xc=x.c;if(null!=md&&(!(n=new BigNumber(md)).isInteger()&&(n.c||1!==n.s)||n.lt(ONE)))throw Error(bignumberError+"Argument "+(n.isInteger()?"out of range: ":"not an integer: ")+valueOf(n));if(!xc)return new BigNumber(x);for(d=new BigNumber(ONE),n1=d0=new BigNumber(ONE),d1=n0=new BigNumber(ONE),s=coeffToString(xc),e=d.e=s.length-x.e-1,d.c[0]=POWS_TEN[(exp=e%LOG_BASE)<0?LOG_BASE+exp:exp],md=!md||n.comparedTo(d)>0?e>0?d:n1:n,exp=MAX_EXP,MAX_EXP=1/0,n=new BigNumber(s),n0.c[0]=0;q=div(n,d,0,1),1!=(d2=d0.plus(q.times(d1))).comparedTo(md);)d0=d1,d1=d2,n1=n0.plus(q.times(d2=n1)),n0=d2,d=n.minus(q.times(d2=d)),n=d2;return d2=div(md.minus(d0),d1,0,1),n0=n0.plus(d2.times(n1)),d0=d0.plus(d2.times(d1)),n0.s=n1.s=x.s,r=div(n1,d1,e*=2,ROUNDING_MODE).minus(x).abs().comparedTo(div(n0,d0,e,ROUNDING_MODE).minus(x).abs())<1?[n1,d1]:[n0,d0],MAX_EXP=exp,r},P.toNumber=function(){return+valueOf(this)},P.toPrecision=function(sd,rm){return null!=sd&&intCheck(sd,1,MAX),format(this,sd,rm,2)},P.toString=function(b){var str,n=this,s=n.s,e=n.e;return null===e?s?(str="Infinity",s<0&&(str="-"+str)):str="NaN":(null==b?str=e<=TO_EXP_NEG||e>=TO_EXP_POS?toExponential(coeffToString(n.c),e):toFixedPoint(coeffToString(n.c),e,"0"):10===b&&alphabetHasNormalDecimalDigits?str=toFixedPoint(coeffToString((n=round(new BigNumber(n),DECIMAL_PLACES+e+1,ROUNDING_MODE)).c),n.e,"0"):(intCheck(b,2,ALPHABET.length,"Base"),str=convertBase(toFixedPoint(coeffToString(n.c),e,"0"),10,b,s,!0)),s<0&&n.c[0]&&(str="-"+str)),str},P.valueOf=P.toJSON=function(){return valueOf(this)},P._isBigNumber=!0,P[Symbol.toStringTag]="BigNumber",P[Symbol.for("nodejs.util.inspect.custom")]=P.valueOf,null!=configObject&&BigNumber.set(configObject),BigNumber}();const __WEBPACK_DEFAULT_EXPORT__=BigNumber},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/object-assign/index.js");var f=__webpack_require__("./node_modules/react/index.js"),g=60103;if(exports.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var h=Symbol.for;g=h("react.element"),exports.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,k){var b,d={},e=null,l=null;for(b in void 0!==k&&(e=""+k),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);